---
title: "🌱 정보보안"
date: 1999-01-01. 00:00
categories: 🪨Stone 🌱DayStone
---

- 보안 전략
  - 키 대부분은 숫자다
  - 결국은 상대방에게 키를 (숫자를) 어떻게 주느냐
  - 상대방의 얼굴도 모른다, 그저 연결되어 있다

- 그 방법 (통신)
  1. 공개키 (암호화/복호화) 를 통해 임의의 대칭키 (세션키)를 주고 받는다
  2. 이후 통신에는 대칭키 (세션키) 를 이용해 통신을 한다

[세션, 쿠키](https://mascari4615.github.io/posts/Cookie-Session/)  

패스워드 보안의 4가지 인증 방법
IRIS 홍체?
type1 Something You Know 지시
type2 Something You Have 소유
type3 Sonething You Are 존재

세상에 좋은 PW는 없다, 좋은 PW = 잘못된 표현  

대표적인 보안 도구 - 방화벽

[암호 분석](https://going-to-end.tistory.com/entry/%EC%95%94%ED%98%B8-%EB%B6%84%EC%84%9D-%EC%95%94%ED%98%B8%EB%AC%B8-%EB%8B%A8%EB%8F%85-%EA%B3%B5%EA%B2%A9-%EA%B8%B0%EC%A7%80-%ED%8F%89%EB%AC%B8-%EA%B3%B5%EA%B2%A9-%EC%84%A0%ED%83%9D-%ED%8F%89%EB%AC%B8-%EA%B3%B5%EA%B2%A9-%EC%84%A0%ED%83%9D-%EC%95%94%ED%98%B8%EB%AC%B8-%EA%B3%B5%EA%B2%A9)

선택된 평문 공격 Chosen Plantext Attack

1. 암호문 단독공격 CipherText Only Attack
2. 기지 평문 공격 Known Plaintext Attack
3. 선택된 평문 공격 Chosen Plaintext Attack
4. 선택 암호문 공격 Chosen Ciphertexxt Attack

- 재전송 공격 Replay Attack
- 무차별 대입 공격 Brute Force Attack
  - Blind Attack, ...

신뢰영역 private network
비신뢰영역 (공중망) public network

패킷 드랍 어텍 리젝트

구분 경찰O 경찰X
도둑O O 실수
도둑X 실수 옳은결정

시험공부 O X
출제 O X

탐지프로그램작동 OX
해킹 진행중, 해킹(칩입자)없음

DNS
TCP SSL
IP ICMP ARP IPSec
-
DNS 로 IP 얻어오고

허점 2가지
- 코앞에서 Browser 가 쿼리 (요청)을 했을 때 응답을 받을 때 조작하는 방법
- DNS 서버를 조작, 데이터를 조작 (DNS 포이즈닝 어택 공격) 
TCP 프로토콜, 3 Hand Shaking 을 통해 연결

허점 2가지
- SYN 설정 정보를 줬을 때, 들여다보면 INS IP MAC 주소가 있음,
IP 목적지 조작
INS라는 번호 조작 
SSL 레이어?
시큐어 소켓 레이어

암호화 통신을 도와준다

스트립핑 (벗긴다)
누가 레이어를 벗기고 들여답본다 
암호화 통신이 되고 있을 때

- 그냥 통째로 가져와서 하이재킹 훔켜간다
- 암호를 조작 (암호를 해석하지 않고) 
ISO 7계층 이론적인 
실제로는 4계층
TCP ICMP IP ARP Protocol 공부
다 허점이 있다, 해커가 이용한다
방화벽이 3~4계층 사이에 설정이 될 것
-
IP
1983 1월 공식 통신 프로토콜
다양한 보안 위험을 야기하며 침투 및 도용에 취약
폭넓게 사용 (예측 못함, 32비트, 보안)
비신뢰성, 비연결지향 데이터그램 프로토콜
TCP
- 신뢰성있는 연결지향성 프로토콜, 오류처리, 재전송 오류 복구, TCP 헤더에 붙는 정보가 많음
UDP
- 비신뢰성 비연결성 프로토콜, UDP 헤더는 간단한 구조 
호스트 이름 <--> IP 주소
네트워크 (이름)

IP 주소 -> IP Protocol은 Host를 구분하기 위하여
MAC 주소 -> 데이터 링크 계층에서 LAN 카드 별로 부여
Port 번호 -> 전송 계층을 수행하는 TCP에서는 Host에서 수행되는 네트워크 프로세스마다 별도 관리를 위해
TPC HTTP DHCP SMTP SP

안전성 확보 네트워크 계층 복잡한 절차
ACK Time out Replay

불안정성을 위해 구축한 안정성
비신뢰성이며 비연결성이 IP를 보완해야 한다

ICMP 1. IP상태오류 (원인) 정보 전달
2, 진단 상황 #~~
NMS : 취약점 해결사

UDP FTP DNS DhCP SP

IP의 꼭두각시
유실될 수 있다
Best Effort

최선다해 보내지만 보장은 못한다
최적 경로를 고려하지는 않는다

IP

LTE ATM Wifi DSL Ethernet 
SSL 크게 4가지

핸드쉐이크 프로토콜
Change spec
Asert 
RecordProtocol 사용자가 키보드를 통해서 모니터를 보면서 뭔가를 집어넣어 데이터
어 나의 주인께서 데이터를보내시는 구나 너무커? 쪼갠다 압축한다
무결성 데이터로 보내야한다 -> MAC, 암호화 시킨다, 
SSL 헤더붙이고
TCP 에 보낸다

TCP에서 또 헤더 붙인다

네트워크로 넘어가면서 또 헤더 붙인다
칼리 리눅스, wire shark
ping 8.8.8.8 -t
SYN Flooding 공격

---

SSO

Proxy 두 가지 있다
방화벽

차이점

방화벽과 Web방화벽과의 차이점
---

STMP  

1023 이상으로 ~하면 된다

1. 공격자가 4 in 2 out 을 이용한다  
 예를 들어 8000 (예약 4999) 를 이용한다
 따라서 2번을 제어할 필요가 있다

 근원지 정보를 기억한다

1023 까지는 Known Port  

악성코드는 굉장히 짧다 "루프?"

전자 메일의 송신과 수신을 중심으로 기본적인 패킷필터링 방화벽 구성을한다  
일반적을 inbound/outbound 정책과 ACL(Access Control List)를 이용한다

밑에 1~5번을 이용해서 E-mail 수신을 위한 허용 규칙으로 써라  

규칙 방향 근원지주소 목적지주소 프로토콜 목적지포트 판단 비고
[이메일 수신하는 용도]
1 In외부 내부 TCP 25 허용 
2 Out 내부 외부 TCP 1023(예약) 허용
[이메일 송신하는 용도]
3 Out 내부 외부 TCP 25 허용
4 In 외부 내부 TCP 1023(예약) 허용
5 Ether 모두 모두 모두 Any 거부

A1 In 114.16.26.4 168.12.1.1 TCP 25 허용
B2 Out 168 114 TCP 1023 허용

C3 Out 168 114 TCP 25 허용
D4 In 114 168 TCP 1023 허용

이거 수신용인데 송신용으로 쓰겟다
8080으로 들어오고 4999로 예약해서 쓰겠다 (규칙에는 문제가 없다)
이거 수신용이라서 송신용으로 쓸 수 없는거야! 라고 할 수 없다

E4 In 114 168 TCP 8080 허용
F2 Out 168 114 TCP 4999(예약) 허용

그래서 목적지주소가지고는 안되서 근원지 포트도 관리를 해야한다

규칙 방향 근원지주소 목적지주소 프로토콜 근원지 포트 목적지포트 판단 비고
[이메일 수신하는 용도]
1 In외부 내부 TCP 1023 25 허용 
2 Out 내부 외부 TCP 25 1023(예약) 허용
[이메일 송신하는 용도]
3 Out 내부 외부 TCP 1023 25 허용
4 In 외부 내부 TCP 25 1023(예약) 허용
5 Ether 모두 모두 모두 Any 거부

E4 In 114 168 TCP 4999 8080
F2 Out 168 114 TCP 8000 4999(예약)
25번으로 들어와야하므로 안된다?

E4 In 114 168 TCP 25 8080
F3 Out 168 114 TCP 8000 25(예약)
이러면 또 된다?

개선된 설계 : 2단계 
해커의 접근을 차단하기 위해 ACK 비트 정보를 패킷 필터링 조건에 포함시키는 한 단게 더 개선된 새로운 규칙을 만든다

규칙 방향 근원지주소 목적지주소 프로토콜 근원지 포트 목적지포트 ACK set 판단 비고
[이메일 수신하는 용도]
1 In외부 내부 TCP 1023 25 Any 허용 
2 Out 내부 외부 TCP 25 1023(예약) Yes 허용
[이메일 송신하는 용도]
3 Out 내부 외부 TCP 1023 25 Any 허용
4 In 외부 내부 TCP 25 1023(예약) Yes 허용
5 Ether 모두 모두 모두 Any Any 거부

방화벽 / 웹 방화벽 개요

방화벽은 뭐다

원래
패킷 헤더 중에서 IP 포트~ 가지고 검사하는데 신분증 검사밖에 안돼
신분증을 위조했든 인척하든 주섰든 그 뒤쪽에 무기 들 수도 있고 주머니에 다른게 들어있을 수도 있고

방화벽
??
??
네트워크에 돌아다니는 pecket이 정상인지 판단하며 의심스러운 행위를 하는 사용자를 검사
Router를 이용한 방화벽 구현 -> Based on pecket header, header 검사
Proxy를 이용한 방화벽 구현 -> Proxy(내부 ㅍ네트워크의 host에는 외부 네트워크의 응용 연결처럼 보이고 외부 네트워크에는 내부 네트워크의 응용연결처럼 보인다)
?

웹 방화벽은 80포트를 타고 유입되는 비정상적인 요소들을 구분하여 접근제어
패킷이 아닌 사용자의 URL이 정상이고 올바른 요청인지를 판다
웹 서비스 취약점을 이용한 공격을 차단 (웹 서ㅓ르 ㄹ보호)
정보 유출 방직 정접근방지, 위변조 방지 등을 할 수 있다

웹 방화벽 형태
1. Hardware Type
Web 및 Application Server와 가까운 LAN 내 혹은 OS에 설치
데이터 packet을 빠르게 추적하고 필터링할 수 있다
2. Software Type
가상머신위에 설치
VM을 실행하기위해 ~가 필요하다
저비용 속도저하
3. Cloud Type
   SaaS 형태로 제공 관리
   간편하다 
4. ?

방화벽 / IPS/웹 방화벽

HTTP <------------------------------------------->

IP port Access
Dos Attack

------------
F/W

Worm, Virus TCP/IP 단 공격 (S~~, 스니핑, 스푸핑핑, 플루딩)

----------------
IPS

웹 공격
해킹
XSS
CSRF
SQL 인젝션
버퍼 오버플로우

-----------------------
WAF

(위로)
서버 data (개인정보)

WebApplication

네트워크 패킷의 헤더를 검사한다
인증되지 않은 통신을 차단한다
접그ㄴ제어는 rult set을 통해 이루어진다
네트어크 전송계층를 검사한다

시스템에 대한 원치 않은 조작을 탐지한다
오용 및 이상 및 차단한다
네트워크 응용계층을 검사한다
실시간으로 패킷의 헤더 데이터를 ㅓ검사
??

웹 취약점 공격에 대한 탐지및 차단한다
?
?
?

스푸핑 레이어 어택
ARP NetInterface 목적지Mac조작 스위치 (어떤장치랑 관련되어 있ㄴ디)
IP Net 출발지IP조작 라우터
DNS App 목적지IP조작 ?~way

방화벽의 기능
접근통제
사용자인증
감사및로그기능
프록시기능
주소변환기능

웹 방화벽의 동작원리
positive security /model
negative security /model
하이브리드 모델 (pos neg 통합)

웹 방화벽 WAP의 기능
서버데이터와 app~프로토콜 기반의 공격을 방어
웹 서버로 들어오는 트래픽 검사 ~ 악의적인 코드, 공격유형이 포함된 트래픽을 차단
http/https 로 불리는 웹 보안에 특화된 방화벽이다, 즉 유해단 http를 차단한다

ssl 스트리핑?
s를 빼버리는?


방화벽의 한계점
내부공격에 대해 어떠한 보호도 제공할 수 없다
네트워크상에 백도어르 통해 들어오는 무분별하거나 권한 없는 액세스에 대해 보호 X
바이러스와 악의적인 코드에 대해 와벽한 보호 X
?

일반적인 공격
?

?
??

방화벽과 프록시서버의 차이
?

방화벽 ? IPS 차이

//

두 가지

위조 - 문서 자체를 바꾸다, 통째로
변조 - 문서 일부를 바꾸다, 눈에 안띄게 살짝

변조가 들 나쁘다

왜요?

왕창 바꾸면
통신과정에서 금방 들통이 난다

다섯가지

A - 중단(흐름 차단) - B  
흐름을 내비두는 데 도청 (가로채기)  
흘러가는 데이터의 일부를 변조 (수정)  
위조 (조작)  
사칭  

DDos  
스니핑 MITM  
MITM DNS 스푸핑  
업로드하고 다운할때의 공격 ASS CSRF MITM  
MITM Replay(재전송공격)  

그 외에 Reflection 반사공격

---

대칭키 공격?

선형공격
차분공격
통계적 분석
전수 공격
생일 공격
블루투스 어택 공격
무차별 공격

일치블럭연쇄공격
고정점연쇄공격
차분연쇄공격

SSO는 기본적인 인증시스템  
취약점 : 최초 인증 과정을 통과하면 여러 서버나 사이트에 접속가능해지므로 보안에 큰 문제인 @가 생길 수 있다. @를 해결하기 위해 중요 정보를 접근하거나 동작하려면 #가 필요하다.

전체 해시밧이 아니라 해시 중간의 결과에 대한 충돌점을 찾는다 특정 포인트를 공격대상으로 한다

?

?

?

전자상거래에서 상대방의 신용카드번호, 주민등록번호, 인증번호, 전자서명 등의 진짜와 가짜를 어떻게 확인할까?  

이를 위해

해시함수  
메시지 인증코드 (CBC-MAC, HMAC, NMAC | CMAC)  
디지털 서명  
인증서  
등  

또한 SSH SSL IPSec 등에서 MAC을 사용한다다

무결성, 인증, 부인방지를 위해 다음을 이용한다  

원격제어 (SSH가 기반)  

| | Unkeyed hash (MDC) | Keyed hash (MAC) | Digital signture | Digital ~ (인증서) |

| 무결성 | O | O | O | O |
| 인증 | X | O | O | O |
| 부인방지 | X | X | O | O |
| Keys | X | 세션키 | public % private key | X509 |

메시지 인증코드 (MAC)
1. 무결성과 인증을 보장하고
2. 변경, 거짓명세를 검증하고
3. 부인방지를 해결 못한다
4. 제3자에게 증명할 수 없다
   -> A로부터 받을 메시지를 B가 '이 메세지는 A가 보낸것'이라고 제 3자에게 증명할 수 없다

   =

MAC을 이용한다
키를 추측 -> 전수, 생일 공격
재전송공격 -> (대응책) 비표(수신번호), 타임스탬프

~

디지털 서명
1. 무결성~
2. 인방지를 구한다~
~

~

인증서
~
~

전자서명 알고리즘의 요구 조건
위조방지
사용자인증
부인방지
변조방지
재사용방자ㅣ

다음 중에서 전자 서명의 특징으로 가장 바르지 않은 것은?
부인불가
위조불가
서명자인증
재사용가능
답이 없다

다음은 공개키 기반 구조 PK에 대한 설명이다. 가장 옳지 않은 것은?
1 네트워크 화녁에서 보안 요구사항을 만족시키기 위해 고개키 암호화 인증서 사용을 가능하게 해주는 기반 구조
2 암호화된 메시지를 송신할 때 수신자의 개인키를 사용하며, 암호화된 서명을 할 때 수신자의 공개키를 사용한다
3 공개키인증서를 발행하여 기밀성, 무결성, 인증, 부인방지, 접근 제어를 보장한다.
4 공개키 기반 구조의 구성요소로 공개키 인증서, 인증기관, 등록기관, 디렉터리 사용자등이 있다

Client와 Server는 대칭키(세션키)를 이용하여 메시지를 송신&수신하고자 한다
C가 S에게 접속요청을한다
C에게 S의 공개키를 전달한다
S의 공갴키로 대칭키를 암호화하여 전달한다
S는 개인키로 암호문을 복호화하여 대칭키를 획득한다
대칭키를 이용하여 C와 S가 암호화 통신을 한다

대칭키의 유출을 막을 수 있다
공격자는 가짜 Server(Or )에 Client를 접속하게 하여 Clinet가 입력한 정보를 빼돌리는 공격이 가능하다 (피싱 공격)
Client가 접속한 Server(Or )가 진짜인지를 신회할 수 있도록 인증서 개념이 도입된다

-

인터넷 공간에서 사업을하려는 Server는 Client에게 신뢰성을 주기 위해 공인기관에서 인증서를 발급받는다
신뢰할 수 있는 사이트를 위해 공인기관A에게 웹사이트B의 인증서 생성을 요청한다
A에게 웹사이트의 공개키와 사이브 정보를 전달한다
공인기관A는 웹사이트를 절차에 따라 검증한다
B가 제공한 사이트 정보와 공개키를 인증기관 A의 개인키를 이용하여 암호화하여 인증서를 생성한다 (B의 인증서)
검증이 완료된 후 인증서를 발급한다

-

웹사이트와 연결을 위해 Client가 접속을 요청한다
Client에게 웹사이트의 인증서 정보를 전달한다
Client는 브라우저 내장 공개키로 복호화를 시도한다, 웹 사이트의 공개키를 획득한다  
웹 사이트의 공개키로 암호화 통신에 사용한 대칭키를 암호화하여 전달한다
암호화 통신이 인증된 상태로 연결되었다

인증되지 않은 웹사이트B(or Server)일 경우 2와 같이 인증서를 보낼 수 없다
웹사이트가 보내온 인증서가 인증기관의 개인키로 암호화한 파일이 아닐 경우 공인기관A의 공개키로 복호화가 불가능하다

-

철수의 공개키에 CA의 개인키로 디지털 서명을 하여 인증서를 구성한다
철수는 자신의 공개키를 등록한다
키쌍을 생성한다
순이는 CA의 디지털 서명이 되어있는 철수의 공개키인 인증서를 획득한다
순시은 공개키를 사용하여 디지털 서명을 검증한다 (철수의 공개키를 확인한다)
순이는 철수의 공개키로 메시지를 암호화하고 철수에게 소ㅇ신한다
암호문을 수신한 철수는 자신의 개인키로 복호화한다

해시함수의 특징으로 가장 바르지 못한 것은?
1 오류탐색기능을 제공한다
2 MDS SHA-1 HAS-160 등이 있다
3 디지털 서명에 시용되어 무결성을 제공한다
4 하드웨어 및 소프트웨어에 모두 실용적이여야 한다
5 메시지 인증과 메시지 부인방지 서비스에 이용된다
6 임의 크기의 메시지에 적용되며, 헤시값 계산 과정이 쉬워야 한다
7 MAC 와 달리 키를 사용하지 않는다
8 임의의 길이를 갖는 메시지를 입력으로 하며 고정된 길이의 출력값을 갖는다
9 해시 함수의 충돌 회피성을 동일한 출력을 산출하는 서로 다른 두 입력을 계산적으로 찾기 어렵다는 특성을 이용한다
10 답이 없다
