---
title: "WitchMendokusai DevLog v0.0.4"
# description: ""
categories: [ğŸ«WitchMendokusai, ğŸ‹Dev-Log]
tags: [WitchMendokusai]
image: "/assets/img/post/works/_WitchMendokusai/ScreenShot/240618-000000.png"
 
date: 2025-03-16. 19:41 # Init
# last_modified_at: 2025-03-16. 19:41 #
---

## ğŸ“€ ë¨¸ë¦¬ë§

---

v0.0.4ì˜ ëª©í‘œëŠ”, `ëª¨í—˜ê°€ ê¸¸ë“œ` Conceptì„ ë§Œë“œëŠ” ê²ƒ.  

## ğŸ“€ ëª¨í—˜ê°€ ê¸¸ë“œ

---

- VillageReputationExp, VillageReputationLevel GameStat ì¶”ê°€

## ğŸ“€ UI

---

### ğŸ’¿ UIItemEquipPopup

Item íšë“ ì‹œ ëœ¨ëŠ” Popup UIë¥¼ ê¾¸ëª„ë‹¤.  

Item íšë“ ì‹œ ì´ì „ì— ë„ìš´ Popup UIê°€ ì‚¬ë¼ì§€ì§€ ì•Šê³  ì¢€ ë” ì˜¤ë˜ ìœ ì§€ë˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤.  
ì—¬ëŸ¬ Itemì„ ì—°ì†ìœ¼ë¡œ ë¨¹ìœ¼ë©´ ê³„ì† ì‚¬ë¦¬ì§€ì§€ ì•Šê³  ìœ ì§€ë˜ëŠ” ì‹.  

ë¬¼ë¡  í™”ë©´ì„ ê½‰ ì±„ìš°ë©´ ì¢€ ì´ìƒí•˜ë‹ˆ, íŠ¹ì • ìˆ˜ë¥¼ ë„˜ì–´ê°€ë©´ ëª‡ ê°œëŠ” ì‚¬ë¼ì§€ë„ë¡ ë§Œë“¤ì—ˆë‹¤.  

Item íšë“ Pop ì—¬ëŸ¬ ê°œê°€ í•œ ë²ˆì— í™”ë©´ ì˜¤ë¥¸ìª½ì— ë– ìˆëŠ”ê²Œ, ë­”ê°€ íšë“ í”¼ë“œë°± ìƒ ì¢‹ì€ ê²ƒ ê°™ì•„ì„œ ê·¸ë ‡ê²Œ ë§Œë“¤ì—ˆë‹¤.  

GamePixë‹˜ì´ ë§Œë“¤ê³  ê³„ì‹œëŠ” ê²Œì„ì˜ [Screenshot](https://x.com/G_P_Art/status/1861425601321804160)ì„ ì°¸ê³ í–ˆë‹¤.  
DOTweenì„ ì´ìš©í•´ì„œ êµ¬í˜„í–ˆë‹¤.  

### ğŸ’¿ UI Refactoring

UI êµ¬ì¡°ë¥¼ Refactoring í–ˆë‹¤.  

- IUI -> UIBase (Interface -> Abstract Class)
  - 'ëª…ì‹œì  ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„'ì„ ê³µë¶€í•´ë³´ë ¤ê³  í–ˆëŠ”ë°, Unityì—ì„œ ëª»ì“°ëŠ” ë“¯?
  - C# 8.0 ê¸°ëŠ¥ì´ê³ , Unity 6ëŠ” 9.0 ì“°ê¸´í•˜ëŠ”ë°, ì´ ê¸°ëŠ¥ì€ ì§€ì› ì•ˆí•˜ëŠ” ê²ƒ ê°™ë‹¤
  - ['Unity Documentation (6)': 'C# compiler'](https://docs.unity3d.com/6000.0/Documentation/Manual/csharp-compiler.html)
  - ['Unity Documentation (2020.3)': 'C# compiler'](https://docs.unity3d.com/2020.3/Documentation/Manual/CSharpCompiler.html)
- UIBase.OnOpen() OnClose()
- Init êµ¬ì¡° í†µì¼í™” (ë§¤ê°œë³€ìˆ˜ X, isInit X)
- UIPanels Refactoring
- UIUtil ì¶”ê°€ (CanvasGroup.SetVisible(~))
- UICraftPanel ì¶”ê°€
- UILayoutInitializer ì¶”ê°€
- ì¼ë¶€ Prefab ì¶”ê°€
- ì¼ë¶€ File/Folder ê³„ì¸µêµ¬ì¡° ë³€ê²½
- UIPanels
  - `transform.GetChild` \<- ì´ê²ƒë„ ë¹„í™œì„±í™”ëœ GameObject ëª» ì°¾ëŠ”ì§€ ëª°ëë„¤
  - `GetComponentsInChildren`ë¡œ ê¸ì–´ì˜¤ê³ , LINQ Selectìœ¼ë¡œ transform.rootê°€ í˜„ì¬ this.gameObjectì¸ ê²ƒë§Œ í•„í„°ë§ í–ˆë‹¤.

ë°”ê¾¸ë‹ˆê¹Œ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” UIë“¤ì´ ë§ì•˜ë‹¤.  
ë‚´ê°€  

## ğŸ“€ Grid, Building

---

ê±´ë¬¼ ë°°ì¹˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆë‹¤.  
ê° WorldStage ë³„ë¡œ ê±´ë¬¼ì´ ë‹¤ë¥´ê²Œ ë°°ì¹˜ë˜ê¸° ë•Œë¬¸ì—, ì €ì¥ ì •ë³´ëŠ” WorldStageì— ì €ì¥í•˜ë„ë¡ í–ˆë‹¤.  

- Grid -> Build / Building

WorldStageì— ì§ì ‘ BuildingSaveDataë¥¼ ë„£ì§€ëŠ” ì•Šì•˜ê³ , WorldStageSaveDataë¡œ í•œ ë²ˆ Wrapping í–ˆë‹¤.  
ë‚˜ì¤‘ì— WorldStageì— ì €ì¥ë  ì •ë³´ê°€ ë” ìˆì„ ê²ƒ ê°™ì•„ì„œë‹¤.  

Grid ê¸°ëŠ¥ì— ì‚¬ìš©ëœ Shaderì™€ ì´ˆê¸° ê¸°ë°˜ ì‘ì„±ì— ['Sunny Valley Studio': 'Grid Placement System in Unity 2022'](https://youtube.com/playlist?list=PLcRSafycjWFepsLiAHxxi8D_5GGvu6arf)ì„ ì°¸ê³ í–ˆë‹¤.  

ì²˜ìŒì—” Gridë¥¼ ì‹­ì ëª¨ì–‘ì˜ ê²©ìë¡œ ë§Œë“¤ì—ˆëŠ”ë°, `Cult of The Lamb`ì˜ ëŒ€ê° ëª¨ì–‘ Gridê°€ ì´ìœ ê²ƒ ê°™ì•„ ê·¸ë ‡ê²Œ ë°”ê¿¨ë‹¤.  

## ğŸ“€ DataSOWindow

---

ScriptableObjectë“¤ì„ ê´€ë¦¬í•˜ëŠ” DataSOWindow CustomEditor.  
ê¸°ì¡´ì—ëŠ” `MDataSO` ë¼ëŠ” ì´ë¦„ì´ì—ˆëŠ”ë°, `DataSOWindow`ë¡œ ë°”ê¿¨ë‹¤.  

### ğŸ’¿ DataSOUtil

ìƒˆë¡œ Util Classë¥¼ ë§Œë“¤ì—ˆë‹¤.  

```cs
// ì—ì…‹ ê²€ìƒ‰ ì‹œì‘
string[] guids = AssetDatabase.FindAssets("t:DataSO", new[] { BASE_DIR });

// ì§„í–‰ ìƒí™© í‘œì‹œ
EditorUtility.DisplayProgressBar($"{taskName} ì¤‘", "DataSO ì—ì…‹ì„ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤", 0f);

for (int i = 0; i < guids.Length; i++)
{
	string guid = guids[i];
	string path = AssetDatabase.GUIDToAssetPath(guid);
	DataSO dataSO = AssetDatabase.LoadAssetAtPath<DataSO>(path);
	// ...
	action.Invoke(dataSO);
	// ...
}
```

ìœ„ ê°™ì€ ë‚´ìš©ì„ ê°€ì§„ `ForeachDataSO(Func<DataSO, bool> action)` ì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤.  
ëª¨ë“  DataSO Assetì„ ì°¾ê³ , ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ actionì„ ì‹¤í–‰ì‹œì¼œì£¼ëŠ” í•¨ìˆ˜ë‹¤.  

ì´ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ DataSO Assetì˜ Addressable Groupê³¼ Labelì„ ì„¤ì •í•´ì£¼ëŠ” `SetupAllAddressables()`ì„ ìƒˆë¡œ ì¶”ê°€í–ˆê³ ,  
ê¸°ì¡´ì— ë§Œë“¤ì–´ë’€ë˜ `SaveAssets()`, `InitDict()` ê¸°ëŠ¥ë„ ì´ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë„ë¡ ë°”ê¿”ì¤¬ë‹¤.  

DataSO Asset ëª©ë¡ì„ ì°¾ê¸° ìœ„í•´ ê¸°ì¡´ì—ëŠ” `System.IO` ë¥¼ ì´ìš©í•´ ì§ì ‘ Fileì„ ê²½ë¡œë³„ë¡œ ì°¾ì•„ì„œ ê° DataSOë¥¼ ì²˜ë¦¬í–ˆëŠ”ë°,  
`AssetDatabase.FindAssets`ë¥¼ ì´ìš©í•´ íŠ¹ì • Type?ì˜ File GUIDë¥¼ í•œ ë²ˆì— ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì´ ìˆì—ˆë‹¤.  

- `DataSODefine` ì¶”ê°€
- `MDataSO` -> `DataSOWindow`
- `MDataSODetail` -> `DataSOInspector`
- Custom Inspectorì—ì„œ íŠ¹ì • Field ê°’ ë³€ê²½ ì‹œ Assetì— SetDirty
- `InitDic()` -> `InitDict()`
- í•˜ë‚˜ì˜ íƒ€ì…ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ë˜ InitDictë¥¼, ëª¨ë“  íƒ€ì…ì— ëŒ€ìƒìœ¼ë¡œ í•˜ë„ë¡ ìˆ˜ì •
- `BadIdDataSO`ê°€ ê° Typeë³„ë¡œ ì •ë³´ë¥¼ ê°€ì§€ë„ë¡ `List` -> `Dictionary<Type, List>` ë¡œ Type ìˆ˜ì •
- `DataSOWindow`ì˜ `GetGoodName()`, `ConvertToGoodName()`ì„ `DataSOUtil`ë¡œ ì´ê´€
- `DataSOUtil.GetBaseType()` -> `TryGetBaseType()` ìˆ˜ì •
- ëª©í‘œë¡œ í•˜ì§€ ì•ŠëŠ” DataSOëŠ” `SetupAllAddressables()` Log Countì— í¬í•¨í•˜ì§€ ì•Šë„ë¡ ìˆ˜ì •

## ğŸ“€ DungeonConstraint ë²„ê·¸ ìˆ˜ì •

---

Addressableë¡œ ë¶ˆëŸ¬ì˜¨ Dungeonê³¼, NPCê°€ ê°€ì§€ê³  ìˆëŠ” Dungeonì´ ì„œë¡œ ë§ì§€ ì•Šì•„ ë°œìƒí–ˆë–¤ ë¬¸ì œ

## ğŸ“€ ê·¸ ì™¸

---

- Nyang, VQExpë¥¼ GameStatì— ë³‘í•©
  - Nyang, Mana, VillageQuestExp, VillageQuestLevel
- SOHelperì— Enum ShortCut ì¶”ê°€
  - GetUnitStatData(), GetGameStatData(), GetDungeonStatData()

- Canvas ì •ë¦¬
- File/Folder ê²½ë¡œ/ê³„ì¸µêµ¬ì¡° ìˆ˜ì •, Naming ìˆ˜ì •
  - MDataSO -> DataSO
  - Datas => Data
  - Criterias => Criteria

- System
  - DataLoadë¥¼ ëª¨ë‘ ë§ˆì¹œ í›„ Loginì„ ì‹œë„í•˜ë„ë¡ ìˆ˜ì • (ê¸°ì¡´ì—ëŠ” DataLoad ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ Loginì„ ì‹œë„í•¨)
  - DataLoad ì‹œ í˜„ì¬ Sceneì´ Lobbyê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ Lobbyë¡œ ì´ë™í•˜ë„ë¡ ìˆ˜ì •
  - DataLoad ì‹œ Image.fillAmount ë¿ë§Œ ì•„ë‹ˆë¼ Textë¡œë„ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ë„ë¡ ìˆ˜ì •
    - ê·¼ë° ë„ˆë¬´ ì§§ì•„ì„œ ì˜ ë³´ì´ì§„ ì•ŠëŠ”ë‹¤.
  - GameSetting ìˆ˜ì •, EditorSettings ì¶”ê°€
    - ì»´íŒŒì¼ í•  ë•Œë§ˆë‹¤ `DataSOWindow.InitDict()`ê°€ ì‹¤í–‰ë˜ëŠ”ë°, ì¢€ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²ƒ ê°™ì•„ì„œ `InitDict()` ì‹¤í–‰ ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆë‹¤.
    - ê·¼ë° ì˜ ì²´ê°ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.

- ObjectPool
  - ObjectPoolì—ì„œ ìƒì„±ëœ GameObjectë¥¼ ê³„ì¸µêµ¬ì¡°ì—ì„œ ì •ë¦¬
    - ê³„ì¸µêµ¬ì¡° ì°½ì— ObjectPoolë¡œ ìƒì„±ëœ GameObjectë“¤ì´ ì«˜ë¼ë½ ë„ë°°ê°€ ë˜ë‹ˆê¹Œ ë³´ê¸°ê°€ ì¢€ ì•ˆì¢‹ì•„ì„œ ìˆ˜ì •í–ˆë‹¤.
  - Spawn Overloading ì¶”ê°€
    - Transform.SetParent ë§¤ê°œë³€ìˆ˜ë¡œ worldPositionStaysê°€ ìˆëŠ”ë°, ê¸°ì¡´ world ì¢Œí‘œ ìœ ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤. default: true

- DOTween Reimport

## ğŸ“€ ë‹¤ìŒ

---

- DataManager, SaveManager, PlayFabManagerë¥¼ í•©ì¹˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³¼ ê²ƒ
- Unity Package ì¤‘ Behavior í•œ ë²ˆ ì•Œì•„ë³´ê¸°
- Addressable ì¤‘ë³µ í”¼í•˜ê¸°
- BlurShader
  - ê¸°ì¡´ì— ì“°ë˜ Shaderì— ëŒ€í•´ ê²½ê³  Logê°€ ê³„ì† ì°íŒë‹¤
  - ê°œì¸ì ìœ¼ë¡œ Shader ê³µë¶€ë„ í•  ê²¸ í•˜ë‚˜ ë§Œë“¤ì–´ë³´ëŠ” ê²ƒë„ ì¢‹ì„ ë“¯
  - ['One Two Three': 'Unityë¡œ ì†ì‰½ê²Œ ë§Œë“œëŠ” Blur ì‰ì´ë”'](https://ichinisann.tistory.com/37)
    - ['ì›ë¬¸ (ì¼ë³¸)': 'Unityã§æ‰‹è»½ã«2Dæ“¦ã‚Šã‚¬ãƒ©ã‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼'](https://qiita.com/ruccho_vector/items/651f760b3240a253bd1d)
    - ê·¼ë° Unity6 ì—ì„œ ë™ì‘í•˜ëŠ”ì§€ ì—¬ë¶€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤. ì´ê²ƒë„ ê²½ë¡œ Log ëœ¨ë©´ ì–´ë–¡í•˜ì§€?

![To Be Continued..](/assets/img/post/stone/embed/ToBeContinued.png)  

---
0408 0609  

Building ONEnable OnDisable  
Building ë³´ìœ íš¨ê³¼? ì´ê±´ SaveDataì—ì„œ ê°€ì ¸ì™€ì•¼ í•  ã„·ã……ë“œ?  
ì²˜ìŒ Init  
Runtime Calc  
ì„ì˜ã…¡ë¡œ ì†¥ ì‹œë„ˆì§€ ê°™ì€ ëŠë‚Œ  
