---
title: "C# Delegate (Action, Func, Event)"
# description: ""
categories: [ğŸ’«Computer, ğŸŒ’Programming]
tags: [Computer, Programming, C#, Delegate, Event, Action, Func]
image: "/assets/img/background/kururu-lab.jpg"

date: 2024-04-24. 14:21
# last_modified_at: 2024-08-29. 20:57
# last_modified_at: 2024-09-04. 10:08
last_modified_at: 2024-09-04. 12:57
---

## ğŸ’« Q

---

- ëŒ€ë¦¬ì
- ëŒ€ë¦¬ìë¥¼ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•
- ëŒ€ë¦¬ìê°€ ì‚¬ìš©ë˜ëŠ” ì´ìœ ì™€ ìƒí™©
- ì¼ë°˜í™” ëŒ€ë¦¬ìë¥¼ ì‘ì„±í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•
- ìµëª… ë©”ì†Œë“œë¥¼ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•
- ì´ë²¤íŠ¸ë¥¼ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•

## ğŸ’« Delegate | ëŒ€ë¦¬ì

---

ë©”ì„œë“œì˜ ì°¸ì¡°.  
Like í•¨ìˆ˜ í¬ì¸í„° in C/C++.  

ë©”ì„œë“œë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ !  
ë©”ì„œë“œë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ê³ , ë‹¤ë¥¸ ë©”ì„œë“œì˜ ì¸ìë¡œ ì „ë‹¬í•˜ê±°ë‚˜ ë°˜í™˜ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

ì£¼ë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬, ë¹„ë™ê¸° ì²˜ë¦¬, ì½œë°± í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ë•Œ ì‚¬ìš©ëœë‹¤.  

### ğŸ«§ Delegate êµ¬í˜„

`delegate ë°˜í™˜íƒ€ì… MyDelegate(ë§¤ê°œë³€ìˆ˜);` ê°™ì€ ëª¨ì–‘ìœ¼ë¡œ ì„ ì–¸í•œë‹¤.  
ë§¤ê°œë³€ìˆ˜ëŠ” í•„ìš”í•œ ë§Œí¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. (0 ~ 16ê°œ)  

ì£¼ì˜ !!  
`delegate`ëŠ” `int`, `string` ê°™ì€ í˜•ì‹(Type)ì´ë¯€ë¡œ,  
"ë©”ì†Œë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ê·¸ ë¬´ì—‡"ì„ ë§Œë“¤ë ¤ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.  

```cs
// ì„ ì–¸
delegate void MyDelegate(string msg);

// ì •ì˜
void Method1(string msg) => Console.WriteLine(msg);

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
MyDelegate myDelegate = new MyDelegate(Method1);

// í˜¸ì¶œ
myDelegate("Hello, World!");

// Output :
// Hello, World!
```

### ğŸ«§ Delegate Why?

"ê°’"ì´ ì•„ë‹Œ "í–‰ë™", "ì½”ë“œ" ìì²´ë¥¼ ì „ë‹¬í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤.  

ì˜ˆë¥¼ ë“¤ì–´ ë°°ì—´ì„ ì •ë ¬í•˜ëŠ” ë©”ì„œë“œë¥¼ ë§Œë“¤ ë•Œ,  
ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í• ì§€, ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í• ì§€, íŠ¹ë³„í•œ ê³„ì‚°ì‹ì„ ì“¸ì§€..  

ì •ë ¬ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¹„êµ ë£¨í‹´ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„£ì„ ìˆ˜ ìˆë‹¤ë©´?  
ì´ëŸ° ê³ ë¯¼ì€ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ ì•Œì•„ì„œ ê²°ì •í•  ìˆ˜ ìˆë‹¤.  

### ğŸ«§ Delegate ì¼ë°˜í™”

ë³´í†µ ë©”ì†Œë“œ ë¿ë§Œ ì•„ë‹ˆë¼, ì¼ë°˜í™” ë©”ì„œë“œë„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.  

```cs
// ì„ ì–¸
// IComparable : ë¹„êµ ê°€ëŠ¥í•œ íƒ€ì… (ìˆ˜ì¹˜í˜•, ë¬¸ìì—´)
// IComparable.CompareTo() : ë¹„êµ ë©”ì„œë“œ (1, 0, -1)
delegate T MyDelegate<T>(T a, T b) where T : IComparable;

// ì •ì˜
int Add(int a, int b) => a + b;
float Add(float a, float b) => a + b;

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
MyDelegate<int> myDelegate1 = Add;
MyDelegate<float> myDelegate2 = Add;

// í˜¸ì¶œ
int result1 = myDelegate(1, 2);
float result2 = myDelegate(1.0f, 2.0f);

// Output :
// 3
// 3.0
```

### ğŸ«§ Delegate ì²´ì¸

í•˜ë‚˜ì˜ `delegate`ì— ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.  
ê·¸ë ‡ê²Œ í• ë‹¹í•œ ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í•œë²ˆì— í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. (ë©€í‹°ìºìŠ¤íŠ¸)  

í˜¸ì¶œ ìˆœì„œëŠ” í• ë‹¹ëœ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œëœë‹¤.  

```cs
// ì„ ì–¸
delegate void MyDelegate(string msg);

// ì •ì˜
void Method1(string msg) => Console.WriteLine(msg);
void Method2(string msg) => Console.WriteLine(msg);

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
MyDelegate myDelegate;

// 1. í• ë‹¹ (+=) / í•´ì œ (-=)
myDelegate += Method1;
myDelegate += Method2;

// 2. í• ë‹¹ (+) / í•´ì œ (-)
myDelegate = Method1 + Method2;

// 3. í• ë‹¹ (Delegate.Combine) / í•´ì œ (Delegate.Remove)
myDelegate = (MyDelegate) Delegate.Combine(
	new MyDelegate(Method1),
	new MyDelegate(Method2));

// í˜¸ì¶œ
myDelegate("Hello, World!");

// Output :
// Hello, World!
// Hello, World!
```

### ğŸ«§ Delegate ìµëª… ë©”ì†Œë“œ / ë¬´ëª… í•¨ìˆ˜ í™œìš©

ìµëª… ë©”ì†Œë“œì™€ ë¬´ëª… í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

ì°¸ê³ ë¡œ ìµëª… ë©”ì†Œë“œëŠ” C# 2.0ì—ì„œ, ë¬´ëª… í•¨ìˆ˜ëŠ” C# 3.0ì—ì„œ ë„ì…ë˜ì—ˆë‹¤.  
ë¬´ëª… í•¨ìˆ˜ê°€ í¸ë¦¬í•˜ì§€ë§Œ, í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë°©ë²•ì„ ëª¨ë‘ ì§€ì›í•˜ê³  ìˆë‹¤.  

```cs
// ì„ ì–¸
delegate void MyDelegate(string msg);

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
MyDelegate myDelegate;

// ìµëª… ë©”ì†Œë“œ í• ë‹¹
myDelegate = delegate (string msg) { Console.WriteLine(msg); };

// ë¬´ëª… í•¨ìˆ˜ í• ë‹¹
myDelegate += (string msg) => { Console.WriteLine(msg); };

// í˜¸ì¶œ
myDelegate("Hello, World!");

// Output :
// Hello, World!
// Hello, World!
```

### ğŸ«§ [Delegate ë¹„ë™ê¸° ì²˜ë¦¬ (Invoke/BeginInvoke)](https://learn.microsoft.com/ko-kr/dotnet/standard/asynchronous-programming-patterns/asynchronous-programming-using-delegates)

`Invoke`ë‚˜ `BeginInvoke`, `EndInvoke`ë¥¼ ì´ìš©í•´ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.  
ì“¸ ìˆ˜ëŠ” ìˆì§€ë§Œ ì˜¤ë˜ëœ ë°©ì‹ì´ë¯€ë¡œ, ë¹„ë™ê¸° ì²˜ë¦¬ëŠ” [`Task`](/posts/Thread-Task/)ë¥¼ ì“°ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•˜ë‹¤.  

```cs
// https://www.csharpstudy.com/Threads/async-delegate.aspx

// ì„ ì–¸ ë° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
Func<int, int, int> work = GetArea;

// ì •ì˜
int GetArea(int height, int width)
{
	int area = height * width;
	return area;
}

// ë¹„ë™ê¸° ì²˜ë¦¬
IAsyncResult asyncRes = work.BeginInvoke(10, 20, null, null);
int result = work.EndInvoke(asyncRes);
```

## ğŸ’« ì¼ë°˜í™”ëœ Delegate

---

ì¼ì¼ì´ `delegate`ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡­ë‹¤ë©´,  
`Action`, `Func`, `Predicate` ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ«§ Action

`delegate`ì˜ ì¼ë°˜í™”ë¡œ, ë°˜í™˜ ê°’ì´ **ì—†ëŠ”**(`void`) ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” `delegate`.  
ë§¤ê°œë³€ìˆ˜ëŠ” 0 ~ 16ê°œê¹Œì§€ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.  

ê·¸ ì´ìƒì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, `ref`ë‚˜ `out` í•œì •ìë¡œ ìˆ˜ì‹ëœ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ë©´ ì§ì ‘ ë³„ë„ì˜ ëŒ€ë¦¬ìë¥¼ ë§Œë“¤ì–´ ì¨ì•¼í•œë‹¤.  

```cs
Action<string> myAction = (msg) => Console.WriteLine(msg);
myAction("Hello, World!"); // Hello, World!

Action<int, int> myAction = (a, b) => a + b;
myAction(1, 2); // 3
```

### ğŸ«§ Func

`delegate`ì˜ ì¼ë°˜í™”ë¡œ, ë°˜í™˜ ê°’ì´ **ìˆëŠ”**(`void` ì œì™¸) ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” `delegate`.  
ë§¤ê°œë³€ìˆ˜ëŠ” 0 ~ 16ê°œê¹Œì§€ ì„ ì–¸í•  ìˆ˜ ìˆê³ , ë§ˆì§€ë§‰ ë§¤ê°œë³€ìˆ˜ê°€ ë°˜í™˜ ê°’ì´ ëœë‹¤.  

ê·¸ ì´ìƒì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, `ref`ë‚˜ `out` í•œì •ìë¡œ ìˆ˜ì‹ëœ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ë©´ ì§ì ‘ ë³„ë„ì˜ ëŒ€ë¦¬ìë¥¼ ë§Œë“¤ì–´ ì¨ì•¼í•œë‹¤.  

```cs
Func<int, int, int> myFunc = (a, b) => a + b;
myFunc(1, 2); // 3
```

### ğŸ«§ Predicate

`Func`ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœë¡œ, ë°˜í™˜ ê°’ì´ `bool`ì¸ `delegate`.  
í•˜ë‚˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ `bool` ê°’ì„ ë°˜í™˜í•œë‹¤.  

```cs
Predicate<int> myPredicate = (num) => num > 0;
myPredicate(1); // True
```

## ğŸ’« Event | ì´ë²¤íŠ¸

---

`ì´ë²¤íŠ¸(ì‚¬ê±´)`ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ ì œì•½ì„ ê°€ì§„, ë˜í•‘ëœ `delegate`.  

ì´ë²¤íŠ¸ | ê°ì²´ì— ì¼ì–´ë‚œ ì‚¬ê±´ ì•Œë¦¬ê¸°  
ê°ì²´ì˜ ìƒíƒœ ë³€í™”, ì‚¬ê±´ì˜ ë°œìƒì„ ë‹¤ë¥¸ ê°ì²´ë‚˜ ë©”ì„œë“œì— ì•Œë¦¬ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.  
ë‹¤ë¥¸ ê°ì²´ë‚˜ ë©”ì„œë“œì—ì„œ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ê³ , ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì•Œë¦¼ì„ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.  

### ğŸ«§ Eventê°€ Delegateì™€ ë‹¤ë¥¸ ì 

1. `event`ëŠ” ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.
   - `delegate`ëŠ” `public`ì´ë‚˜ `internal`ë¡œ ìˆ˜ì‹ë˜ì–´ ìˆìœ¼ë©´ ê°€ëŠ¥í•˜ë‹¤.
2. `delegate`ëŠ” `interface` ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” `interface` ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
   - `event`ëŠ” `delegate`ì˜ ì¸ìŠ¤í„´ìŠ¤ì´ê¸° ë•Œë¬¸ì´ë‹¤.

### ğŸ«§ Event êµ¬í˜„

`delegate`ë¥¼ `event` í‚¤ì›Œë“œë¡œ ìˆ˜ì‹í•´ì„œ ì„ ì–¸í•œë‹¤.  
ì´ë•Œ ìˆ˜ì‹ë˜ëŠ” `delegate`ëŠ” í´ë˜ìŠ¤ ë°–ì— ì„ ì–¸í•´ë„ ë˜ê³  ì•ˆì— ì„ ì–¸í•´ë„ ëœë‹¤.  

`event`ëŠ” ì„ ì–¸í•œ `delegate`ì˜ ì¸ìŠ¤í„´ìŠ¤ì´ë‹¤.  

```cs
// delegate ì„ ì–¸ (í´ë˜ìŠ¤ ë°–ì— ì„ ì–¸í•´ë„ ëœë‹¤.)
delegate void MyDelegate(string msg);

// Publisher
class MyClass
{
	// ì´ë²¤íŠ¸ ì„ ì–¸ (MyDelegateì˜ ì¸ìŠ¤í„´ìŠ¤)
	public event MyDelegate MyEvent;

	// êµ¬ë… & êµ¬ë… í•´ì œ
	public void Subscribe(MyDelegate myDelegate) => MyEvent += myDelegate;
	public void Unsubscribe(MyDelegate myDelegate) => MyEvent -= myDelegate;

	// ì´ë²¤íŠ¸ ë°œìƒ (ì´ë²¤íŠ¸ëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥)
	public void OnEvent(string msg) => MyEvent?.Invoke(msg);
}

// Subscriber
class Program
{
	static void Main()
	{
		MyClass myClass = new MyClass();
		myClass.Subscribe(MyMethod);

		myClass.OnEvent("Hello, World!");

		// ì•„ë˜ì²˜ëŸ¼ ì´ë²¤íŠ¸ë¥¼ ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œ í•  ìˆ˜ ì—†ë‹¤.
		// myClass.MyEvent?.Invoke("Hello, World!");
	}

	static void MyMethod(string msg) => Console.WriteLine(msg);
}
```

## ğŸ’« ë©”ëª¨/ì°¸ê³ 

---

- callbackì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•.
- delegateëŠ” ì˜ì–´ë¡œ "ëŒ€ë¦¬ì¸", "ì‚¬ì ˆ" ì´ë¼ëŠ” ëœ»ì´ ìˆë‹¤.
- `delegate`ë¥¼ ì´ìš©í•´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì¼ê¸‰ ê°ì²´ë¡œì„œì˜ í•¨ìˆ˜ ê°œë…ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
- `delegate` (`event`)ë¥¼ ì´ìš©í•´ ì´ë²¤íŠ¸, ì˜µì €ë²„ íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

- 'ì´ê²ƒì´ C#ì´ë‹¤.', 'MSDN'
- [](https://developer-talk.tistory.com/208)

- [EventEvent-Driven-Programming](/posts/Event-Driven-Programming/)
- [Lambda-Expression](/posts/Lambda/)
