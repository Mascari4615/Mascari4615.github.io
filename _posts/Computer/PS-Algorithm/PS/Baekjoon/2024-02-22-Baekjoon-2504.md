---
title: "ğŸŒ“ Baekjoon 2504 - 'ê´„í˜¸ì˜ ê°’'"
categories: [ğŸ’«Computer, ğŸŒ“PS-Algorithm]
tags: [PS, Baekjoon, Stack]

date: 2024-02-22. 22:15
# last_modified_at: 2024-03-01. 07:53
last_modified_at: 2024-08-29. 22:04
---

## ğŸ’« [ë¬¸ì œ](https://www.acmicpc.net/problem/2504)

---

### ğŸ«§ Example Input/Output

```cpp
// IN
(()[[]])([])

// OUT
28
```

## ğŸ’« C++ í’€ì´

---

```cpp
#include <iostream>
#include <algorithm>
#include <stack>

using namespace std;

bool isBalanced(string);
void calc(stack<int> &, int);

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);

	string s;
	cin >> s;

	// Check Is Balanced
	if (isBalanced(s) == false)
	{
		cout << '0';
		return 0;
	}

	// ìŠ¤íƒì— ìˆ«ìë¥¼ ë‹¤ì‹œ ì§‘ì–´ë„£ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ stack<char>ë¥¼ ì“°ê¸° ì–´ë ¤ì›€
	stack<int> st;

	// ê·¸ë˜ì„œ ê´„í˜¸ë„ ìˆ«ìë¡œ ë§Œë“¦ (ê· í˜•ì¡íŒ ê´„í˜¸ ë¬¸ìì—´ë¼ëŠ” ê±¸ ìœ„ì—ì„œ í™•ì¸í–ˆìœ¼ë¯€ë¡œ)
	// -(ê° ê´„í˜¸ê°€ ëŒ€í‘œí•˜ëŠ” ìˆ«ì = ê³„ì‚°ë˜ëŠ” ìˆ«ì i.e. '(', ')' ê³„ì‚°ì— 2ë§Œ ì“°ì„)
	const int PARENTHESES_NUM = -2;		// '(', ')' = -2
	const int SQUARE_BRACKETS_NUM = -3; // '[', ']' = -3

	for (auto c : s)
	{
		if (c == '(')
			st.push(PARENTHESES_NUM);
		else if (c == '[')
			st.push(SQUARE_BRACKETS_NUM);
		else if ((c == ')'))
			calc(st, PARENTHESES_NUM);
		else if ((c == ']'))
			calc(st, SQUARE_BRACKETS_NUM);
	}

	int totalSum = 0;
	int stackSize = st.size();
	for (int i = 0; i < stackSize; i++)
	{
		totalSum += st.top();
		st.pop();
	}

	cout << totalSum;
}

bool isBalanced(string s)
{
	bool _isBalanced = true;
	stack<char> st;
	for (auto c : s)
	{
		if ((c == '(') || (c == '['))
			st.push(c);
		else if ((c == ')') || (c == ']'))
		{
			if (st.empty() || (abs(c - st.top()) > 2))
			{
				_isBalanced = false;
				break;
			}

			st.pop();
		}
	}

	if (st.empty() == false)
		_isBalanced = false;

	return _isBalanced;
}

// '()', '[]', '(X)', '[X]', 'XY' ê³„ì‚°
void calc(stack<int> &st, int bracketNum)
{
	int sum = 0;
	while (true)
	{
		// '()', '[]', '(X)', '[X]'
		if (st.top() == bracketNum)
		{
			st.pop();
			st.push((sum == 0) ? -bracketNum : sum * -bracketNum);
			break;
		}
		// 'XY'
		else
		{
			sum += st.top();
			st.pop();
		}
	}
}
```

## ğŸ’« Memo

---

- ì˜¬ë°”ë¥¸ ë¬¸ìì—´ì¸ì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì„, ë©”ì¸ ê³„ì‚° ê³¼ì •ì— í¬í•¨ì‹œí‚¤ë©´ êµ¬í˜„í•˜ê¸° ì–´ë µê³   ë³µì¡í•  ê²ƒ ê°™ì•„ì„œ ë©”ì¸ ì½”ë“œì™€ ë¶„ë¦¬
- ë©”ì¸ ì½”ë“œëŠ”... ì†ìœ¼ë¡œ ë¨¼ì € í’€ì–´ë³´ê³  ì½”ë“œë¡œ êµ¬í˜„ (...)
  - ê³„ì‚°í•˜ë©´ì„œ ë‚˜ì˜¤ëŠ” ìˆ«ìë¥¼ ìŠ¤íƒì— ë‹¤ì‹œ ì§‘ì–´ ë„£ëŠ” ë°©ë²•
