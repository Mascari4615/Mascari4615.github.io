---
title: "ğŸŒ“ Baekjoon 5397 - 'í‚¤ë¡œê±°'"
date: 2024-02-20. 18:54
last_modified_at: 2024-02-20. 20:23
categories: [â­Computer, ğŸŒ“PS-Algorithm]
tags: [PS, Baekjoon, Linked-List]
---

## **ğŸ’« [ë¬¸ì œ](https://www.acmicpc.net/problem/5397)**

---

### **ğŸ«§ Example Input**

```cpp
2 // n : í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤, ë¬¸ìì—´ (1 <= ê¸¸ì´ <= 1,000,000)
<<BP<A>>Cd- // < : ì™¼ìª½ ì´ë™, > : ì˜¤ë¥¸ì¡± ì´ë™, - : ì‚­ì œ
ThIsIsS3Cr3t
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

### **ğŸ«§ Example Output**

```cpp
BAPC
ThIsIsS3Cr3t
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

## **ğŸ’« C++ í’€ì´**

---

### **ğŸ«§ 1. ì•¼ë§¤ ì—°ê²°ë¦¬ìŠ¤íŠ¸**

```cpp
#include <iostream>
#include <algorithm>

using namespace std;

// ë°”í‚¹ë… ì„¼ì„¸ì˜ ì•¼ë§¤ ì—°ê²°ë¦¬ìŠ¤íŠ¸
const int MAX = 1000005;
char dat[MAX];
int nxt[MAX], pre[MAX];
int unused = 1;

void insert(int addr, char newData)
{
	dat[unused] = newData;
	nxt[unused] = nxt[addr];
	pre[unused] = addr;

	nxt[addr] = unused;
	if (nxt[unused] != -1)
		pre[nxt[unused]] = unused;

	unused++;
}

void erase(int addr)
{
	nxt[pre[addr]] = nxt[addr];
	if (nxt[addr] != -1) pre[nxt[addr]] = pre[addr];
}

void traverse()
{
	int cur = nxt[0];
	while(cur != -1)
	{
		cout << dat[cur];
		cur = nxt[cur];
	}
	cout << '\n';
}

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);

	int n;
	cin >> n;

	for (int i = 0; i < n; i++)
	{
		fill(pre, pre + MAX, -1);
		fill(nxt, nxt + MAX, -1);
		unused = 1;
		
		string s;
		cin >> s;

		int cursor = 0;

		for (auto c : s)
		{
			if (c == '<')
			{
				if (pre[cursor] != -1)
					cursor = pre[cursor];
			}
			else if (c == '>')
			{
				if (nxt[cursor] != -1)
					cursor = nxt[cursor];
			}
			else if (c == '-')
			{
				if (pre[cursor] == -1)
					continue;
				erase(cursor);
				cursor = pre[cursor];
			}
			else
			{
				insert(cursor, c);
				cursor = nxt[cursor];
			}
		}
		traverse();
	}
}
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

### **ğŸ«§ 2. STL list**

```cpp
#include <iostream>
#include <algorithm>
#include <list>

using namespace std;

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);

	int n;
	cin > n;

	for (int i = 0; i < n; i++)
	{
		list<char> l;
		list<char>::iterator cursor = l.end();

		string s;
		cin >> s;

		for (auto c : s)
		{
			if (c == '<')
			{
				if (cursor == l.begin())
					continue;
				cursor--;
			}
			else if (c == '>')
			{
				if (cursor != l.end())
					cursor++;
			}
			else if (c == '-')
			{
				if (cursor == l.begin())
					continue;
				cursor = l.erase(--cursor);
			}
			else
			{
				l.insert(cursor, c);
			}
		}

		for (auto c : l)
			cout << c;
		cout << '\n';
	}
}
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

## **ğŸ’« Memo**

---

- [1406 - 'ì—ë””í„°'](https://mascari4615.github.io/posts/Baekjoon-1406/) ë¬¸ì œì™€ ìœ ì‚¬í•œ ë¬¸ì œ

- `ì•¼ë§¤ ë¦¬ìŠ¤íŠ¸`ë¡œ í’€ ë•Œ `OutOfBounds`ê°€ ê³„ì† ë–´ëŠ”ë°, ë°˜ë³µë¬¸ì—ì„œ `pre`ì™€ `nxt`ë§Œ ì´ˆê¸°í™”í•˜ê³  `unused`ë¥¼ ì´ˆê¸°í™”í•˜ì§€ ì•Šì•˜ë˜ ê²ƒì´ ì´ìœ ì˜€ë‹¤.

- @TIME : ë‹¤ë¥¸ í’€ì´
