---
title: "🌓 Baekjoon 5397 - '키로거'"
date: 2024-02-20. 18:54
last_modified_at: 2024-02-20. 20:23
categories: [⭐Computer, 🌓PS-Algorithm]
tags: [PS, Baekjoon, Linked-List]
---

## **💫 [문제](https://www.acmicpc.net/problem/5397)**

---

### **🫧 Example Input**

```cpp
2 // n : 테스트 케이스, 문자열 (1 <= 길이 <= 1,000,000)
<<BP<A>>Cd- // < : 왼쪽 이동, > : 오른족 이동, - : 삭제
ThIsIsS3Cr3t
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

### **🫧 Example Output**

```cpp
BAPC
ThIsIsS3Cr3t
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

## **💫 C++ 풀이**

---

### **🫧 1. 야매 연결리스트**

```cpp
#include <iostream>
#include <algorithm>

using namespace std;

// 바킹독 센세의 야매 연결리스트
const int MAX = 1000005;
char dat[MAX];
int nxt[MAX], pre[MAX];
int unused = 1;

void insert(int addr, char newData)
{
	dat[unused] = newData;
	nxt[unused] = nxt[addr];
	pre[unused] = addr;

	nxt[addr] = unused;
	if (nxt[unused] != -1)
		pre[nxt[unused]] = unused;

	unused++;
}

void erase(int addr)
{
	nxt[pre[addr]] = nxt[addr];
	if (nxt[addr] != -1) pre[nxt[addr]] = pre[addr];
}

void traverse()
{
	int cur = nxt[0];
	while(cur != -1)
	{
		cout << dat[cur];
		cur = nxt[cur];
	}
	cout << '\n';
}

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);

	int n;
	cin >> n;

	for (int i = 0; i < n; i++)
	{
		fill(pre, pre + MAX, -1);
		fill(nxt, nxt + MAX, -1);
		unused = 1;
		
		string s;
		cin >> s;

		int cursor = 0;

		for (auto c : s)
		{
			if (c == '<')
			{
				if (pre[cursor] != -1)
					cursor = pre[cursor];
			}
			else if (c == '>')
			{
				if (nxt[cursor] != -1)
					cursor = nxt[cursor];
			}
			else if (c == '-')
			{
				if (pre[cursor] == -1)
					continue;
				erase(cursor);
				cursor = pre[cursor];
			}
			else
			{
				insert(cursor, c);
				cursor = nxt[cursor];
			}
		}
		traverse();
	}
}
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

### **🫧 2. STL list**

```cpp
#include <iostream>
#include <algorithm>
#include <list>

using namespace std;

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);

	int n;
	cin > n;

	for (int i = 0; i < n; i++)
	{
		list<char> l;
		list<char>::iterator cursor = l.end();

		string s;
		cin >> s;

		for (auto c : s)
		{
			if (c == '<')
			{
				if (cursor == l.begin())
					continue;
				cursor--;
			}
			else if (c == '>')
			{
				if (cursor != l.end())
					cursor++;
			}
			else if (c == '-')
			{
				if (cursor == l.begin())
					continue;
				cursor = l.erase(--cursor);
			}
			else
			{
				l.insert(cursor, c);
			}
		}

		for (auto c : l)
			cout << c;
		cout << '\n';
	}
}
```

<br>

<!-- ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ----  ---- ---- ---- ---- -->

## **💫 Memo**

---

- [1406 - '에디터'](https://mascari4615.github.io/posts/Baekjoon-1406/) 문제와 유사한 문제

- `야매 리스트`로 풀 때 `OutOfBounds`가 계속 떴는데, 반복문에서 `pre`와 `nxt`만 초기화하고 `unused`를 초기화하지 않았던 것이 이유였다.

- @TIME : 다른 풀이
