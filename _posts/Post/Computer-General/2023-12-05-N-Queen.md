---
title: "🌑 N-Queen"
date: 2023-12-05. 14:33
last_modified_at: 2023-12-07. 10:24
categories: ⭐Computer 🌑Computer-General
tags: N-Queen Algorithm
---

## 💫 N-Queen

---

n*n 체스판에서 n개의 여왕을 서로 공격할 수 없도록 배치하는 문제  
어떤 두 여왕도 같은 행, 같은 열, 같은 대각선 상에 위치할 수 없음  

→ N x N 보드에서, 서로 영향을 줄 수 없는 체스 여왕 배치 경우의 수  

n이 4이상일 때만 해가 존재  

@ 8-여왕 문제 해답 예  

## 💫 Solve By BackTracking

---

### 🫧 상태 공간 트리

같은 줄에 두 여왕을 배치할 수 없음  
→ 첫 번째 줄부터 한 줄에 한 여왕만 있을 수 있음  

1~n번 행 순서대로 여왕이 어디 위치하고 있는지 저장하여 트리 구성  

@ 경우의 수 체스판 예시 (Start으로부터 4개의 체스판, ...)  

각 여왕의 좌표는 (1, 3), (5, 3) 이런식으로 표현 가능

@ 각 노드에 좌표를 적은 상태 공간 트리 예시  
@ 최종 상태 체스판 예시 (정답이 아닌 경우도 있고, 정답인 경우도 있고)  

유망하지 않다 = 겹치는 경우가 있다 = (행이 겹친다, 열이 겹친다, 대각선으로 겹친다)  

@ 내려가면서 유망하지 않은 노드에 x 표시하고 넘어간 상태 공간 트리 예시  

n-여왕 문제는 해답이 여럿 있을 수있으므로 상태 공간 트리를 모두 뒤져야 한다  

뒤지는 동안 각 행 (배열) 오르락 내리락하는 모습 (상상하세요)  

### 🫧 알고리듬

- 배열을 이용하여 상태 공간 트리를 관리하는 방법
  - 기억해야 할 정보는 “걸어온 길”
  - 레벨 i 노드는 i 번째 행까지 놓인 i 개의 여왕 위치를 기억해야 함
    - 해당 노드가 유망하여 자식 노드로 내려간다면 i +1개의 여왕 위치를 기억
    - 유망하지 않아 부모 노드로 백트래킹한다면 i -1개의 여왕 위치를 기억
  - 배열 인덱스: 행, 배열 값: 해당 행에서 놓인 여왕의 열 위치
  - ∴ n 개의 열을 저장할 수 있는 1차원 배열이 필요

## 💫 Solve By Genetic-Alogrithms

---

유전 알고리듬을 문제에 적용하는 과정  

1. 인코딩 Encoding, 적합도 함수
   - 문제를 컴퓨터가 이해하는 방식으로 → 각 여왕의 좌표를 배열로 저장
   - 적합도 함수 → 각 여왕이 다른 여왕과 가로, 세로, 대각선으로 만나는 지
2. 모집단 구성
3. 적합도 평가
   - 적합도 함수를 바탕으로 계산한 점수
   - 각 Solution의 점수를 점수 총합으로 나눈 비율을 바탕으로 임의의 Solution 선택
4. 선택 (- 재생산을 하기 위해)
   - 재생산 → 교차, 돌연변이
   - i.e. 다른 Solution과 일정 범위 여왕의 좌표 교체, 특정 여왕 좌표 변화
5. 답을 찾을 때 까지 반복
