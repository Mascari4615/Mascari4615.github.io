---
title: "π‘ ν”„λ΅κ·Έλλ° μ–Έμ–΄ - Pointer and Reference Types"
date: 2023-11-21. 16:42
# last_modified_at: 2023-11-21. 16:42
categories: β­Computer π‘Computer-General
tags: Programming-Language Pointer ReferenceType
---

## π’« κ³Όμ  1

---

κµμ¬μ™€ κΈ°νƒ€ μλ£λ“¤μ„ μ°Έκ³ ν•μ—¬, Pointerμ™€ Reference Typeλ“¤μ„ μ •λ¦¬ν•κ³  μ΄ν•΄ν•λΌ.  
κµμ¬ 'Concepts of Programing Languages', 6.11 Pointerμ™€ Reference Type  

## π’« Pointer

λ©”λ¨λ¦¬ μ£Όμ†, νΉμ κ°’, `nil` (null) κ°’μ„ κ°€μ§ μ μλ” λ³€μλ‹¤.  
nilμ€ μ ν¨ν• μ£Όμ†κ°€ μ•„λ‹λ©°, ν„μ¬ ν•΄λ‹Ή ν¬μΈν„°κ°€ λ©”λ¨λ¦¬ μ…€μ„ μ°Έμ΅°ν•λ” λ°μ— μ“Έ μ μ—†μμ„ λ‚νƒ€λ‚΄λ” λ° μ“°μΈλ‹¤.  

ν¬μΈν„°λ” λ‘ κ°€μ§€ μ©λ„λ΅ μ„¤κ³„λμ—λ‹¤.  

1. μ–΄μ…λΈ”λ¦¬μ—μ„ μ£Όλ΅ μ‚¬μ©λλ” κ°„μ ‘ μ£Όμ† μ§€μ •
2. λ™μ  μ €μ¥κ³µκ°„ κ΄€λ¦¬

ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬, `ν™ - Heap`μ— λ™μ μΌλ΅ ν• λ‹Ήλ μ €μ¥κ³µκ°„ μ„μΉμ— μ ‘κ·Όν•  μ μλ‹¤.  

ν™μΌλ΅λ¶€ν„° λ™μ μΌλ΅ ν• λ‹Ήλλ” λ³€μλ¥Ό `ν™ λ™μ  λ³€μ - Heap-Dynamic Variables` λΌκ³  ν•λ‹¤.  
λ€λ¶€λ¶„ μ‹λ³„μλ¥Ό λ”°λ΅ κ°€μ§€κ³  μμ§€ μ•κ³ , ν¬μΈν„° λλ” μ°Έμ΅° λ³€μλ¥Ό ν†µν•΄μ„λ§ μ°Έμ΅°ν•  μ μμµλ‹λ‹¤.  
μ΄λ¦„ μ—†λ” λ³€μλ¥Ό `μµλ… λ³€μ - Anonymous Variables`λΌκ³  ν•λ‹¤.  

2λ² μ©λ„μ—μ„ κ°€μ¥ μ¤‘μ”ν• μ„¤κ³„ λ¬Έμ κ°€ μƒκΈ΄λ‹¤.
ν¬μΈν„°λ” ν•μ‹ μ—°μ‚°μ(* Cμ™€ C++, access Ada)λ¥Ό μ‚¬μ©ν•μ—¬ μ •μλμ§€λ§, λ°°μ—΄μ΄λ‚ λ μ½”λ“μ™€λ” λ‹¬λ¦¬ κµ¬μ΅°ν™”λ ν•μ‹μ€ μ•„λ‹λ‹¤.
λν• λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” λ° μ‚¬μ©λλ” κ²ƒμ΄ μ•„λ‹λΌ, λ‹¤λ¥Έ λ³€μλ¥Ό μ°Έμ΅°ν•λ” λ° μ‚¬μ©λκΈ° λ•λ¬Έμ— μ¤μΉΌλΌ λ³€μμ™€λ” λ‹¤λ¥΄λ‹¤.

μ΄ λ‘ λ²”μ£Όμ λ³€μλ¥Ό κ°κ° `μ°Έμ΅° μ ν• - ReferenceTypes`κ³Ό `κ°’ μ ν• - ValueTypes`μ΄λΌκ³  ν•λ‹¤.  
ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” λ‘ μ ν• λ¨λ‘ ν”„λ΅κ·Έλλ° μ–Έμ–΄μ μ‘μ„±λ ¥μ— λ„μ›€μ„ μ¤€λ‹¤.  

i,e,  
ν¬μΈν„°κ°€ μ—†λ” Fortran 77 κ°™μ€ μ–Έμ–΄λ΅ μ΄μ§„ νΈλ¦¬μ²λΌ λ™μ  κµ¬μ΅°λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤λ©΄, ν”„λ΅κ·Έλλ¨Έκ°€ κ°€μ©ν• νΈλ¦¬ λ…Έλ“ ν’€μ„ μ κ³µν•κ³  μ μ§€ν•΄μ•Ό ν•λ©°, μ΄λ” λ³‘λ ¬ μ–΄λ μ΄λ΅ κµ¬ν„λ  κ°€λ¥μ„±μ΄ λ†’λ‹¤. λν• Fortran 77μ—λ” λ™μ  μ €μ¥ κ³µκ°„μ΄ μ—†κΈ° λ•λ¬Έμ— ν”„λ΅κ·Έλλ¨Έκ°€ ν•„μ”ν• μµλ€ λ…Έλ“ μλ¥Ό μ¶”μΈ΅ν•΄μ•Ό ν•  κ²ƒμ΄λ‹¤. μ΄λ” λ¶„λ… μ–΄μƒ‰ν•κ³ , μ¤λ¥κ°€ λ°μƒν•κΈ° μ‰¬μ΄ μ²λ¦¬ λ°©λ²•μ΄λ‹¤.

μ°Έμ΅° λ³€μλ” ν¬μΈν„°μ™€ λ°€μ ‘ν• κ΄€λ ¨μ΄ μλ‹¤.  

## π’« μ„¤κ³„ λ¬Έμ  - Design Issue

- ν¬μΈν„° λ³€μμ λ²”μ„μ™€ μλ…μ€ μ–Όλ§μΈκ°€?
- λ™μ  λ³€μ(ν¬μΈν„°κ°€ μ°Έμ΅°ν•λ” κ°’)μ μλ…μ€ μ–Όλ§μΈκ°€?
- ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” κ°’μ μ ν•μ— μ ν•μ΄ μλ‚?
- ν¬μΈν„°μ μ©λ„κ°€ λ™μ  μ¤ν† λ¦¬μ§€ κ΄€λ¦¬, κ°„μ ‘ μ£Όμ† μ§€μ • λλ” λ‘ λ‹¤ μΈκ°€?
- μ–Έμ–΄λ” ν¬μΈν„° μ ν•, μ°Έμ΅° μ ν• λλ” λ‘ λ‹¤λ¥Ό μ§€μ›ν•΄μ•Ό ν•λ‚?

## π’« ν¬μΈν„° μ—°μ‚°λ“¤

ν¬μΈν„° νƒ€μ…μ„ μ κ³µν•λ” μ–Έμ–΄λ“¤μ€ λ€κ° λ‘ κ°€μ§€ κΈ°λ³Έμ μΈ ν¬μΈν„° μ—°μ‚°μ„ ν¬ν•¨ν•λ‹¤.

1. ν• λ‹Ή - Assignment
2. μ—­μ°Έμ΅° - Dereferencing

μ‹μ—μ„ ν¬μΈν„° λ³€μμ λ°μƒμ€ λ‘ κ°€μ§€ λ°©λ²•μΌλ΅ ν•΄μ„ν•  μ μλ‹¤.

1. μΌλ°μ μΈ μ°Έμ΅° : ν¬μΈν„° λ°”μΈλ”©λ λ©”λ¨λ¦¬ μ…€ μμ²΄μ λ‚΄μ© μ°Έμ΅°
   - μμ‹μ—μ„ λΉ„ν¬μΈν„° λ³€μλ” μ •ν™•ν μ΄λ° μ‹μΌλ΅ ν•΄μ„λμ§€λ§, κ·Έ κ²½μ°μ—λ” κ°’μ΄ μ£Όμ†κ°€ μ•„λ‹ κ°€λ¥μ„±μ΄ λ†’λ‹¤.
2. κ°„μ ‘μ μΈ μ°Έμ΅° (`μ—­μ°Έμ΅°`) : ν¬μΈν„°κ°€ λ°”μΈλ”©λ λ©”λ¨λ¦¬ μ…€μ΄ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μ…€ λ‚΄μ κ°’μ„ μ°Έμ΅°ν•λ” κ²ƒ

### π«§ ν• λ‹Ή - Assingment

ν¬μΈν„° λ³€μμ κ°’μ„ μ–΄λ–¤ μ μ©ν• μ£Όμ†λ΅ μ„¤μ •ν•λ‹¤.  
ν¬μΈν„° λ³€μλ¥Ό μ¤μ§ λ™μ  μ €μ¥κ³µκ°„ κ΄€λ¦¬μ—λ§ μ‚¬μ©ν•λ‹¤λ©΄, ν• λ‹Ή λ©”μ»¤λ‹μ¦μ€ μ—°μ‚°μμ— μν•΄μ„λ“  λ‚΄μ¥ ν•¨μμ— μν•΄μ„λ“  ν¬μΈν„° λ³€μλ¥Ό μ΄κΈ°ν™”ν•λ” μ—­ν• μ„ ν•λ‹¤.  
ν¬μΈν„° λ³€μλ¥Ό μ¤μ§ κ°„μ ‘ μ£Όμ† μ§€μ •μ„ μ„ν•΄μ„ μ‚¬μ©ν•λ‹¤λ©΄, λ³€μμ μ£Όμ†λ¥Ό κ°€μ Έμ¤λ” λ…μ‹μ  μ—°μ‚°μλ‚ λ‚΄μ¥ ν•¨μμ΄ μμ–΄μ•Ό ν¬μΈν„° λ³€μμ— ν• λ‹Ήν•  μ μλ‹¤.

ν™μ κ΄€λ¦¬λ¥Ό μ„ν• ν¬μΈν„°λ¥Ό μ κ³µν•λ” μ–Έμ–΄λ” λ…μ‹μ μΈ ν• λ‹Ή μ—°μ‚°μ„ ν¬ν•¨ν•΄μ•Ό ν•λ‹¤.  

Cμ mallocκ³Ό κ°™μ€ ν•¨μλ΅ μ§€μ •λκΈ°λ„ ν•λ‹¤.  

κ°μ²΄ μ§€ν–¥ μ–Έμ–΄μ—μ„λ” ν™ κ°μ²΄μ ν• λ‹Ήμ„ new μ—°μ‚°μλ΅ μ§€μ •ν•λ” κ²½μ°κ°€ λ§λ‹¤.  
μ•”λ¬µμ μΈ ν• λ‹Ή ν•΄μ λ¥Ό μ κ³µν•μ§€ μ•λ” C++ deleteλ¥Ό ν• λ‹Ή ν•΄μ  μ—°μ‚°μλ΅ μ‚¬μ©ν•λ‹¤.  

### π«§ μ—­μ°Έμ΅° - Dereference-ing

ν• λ‹¨κ³„μ λ°©ν–¥μ„±μ„ ν†µν•΄ μ°Έμ΅°λ¥Ό μ·¨ν•λ” κ²ƒ. λ…μ‹μ μ΄κ±°λ‚ μ•”λ¬µμ μΌ μ μλ‹¤.  

Fortran 95+μ—μ„ μ•”μ‹μ μ΄μ§€λ§, λ‹¤λ¥Έ λ§μ€ ν„λ€ μ–Έμ–΄μ—μ„λ” λ…μ‹μ μΌλ΅ μ§€μ •λ κ²½μ°μ—λ§ λ°μƒν•λ‹¤.  
C++μ—μ„λ” μ ‘λ‘μ‚¬ λ‹¨ν•­ μ—°μ‚°μλ΅ λ³„ν‘(*)μ™€ ν•¨κ» λ…μ‹μ μΌλ΅ μ§€μ •λλ‹¤.  

i.e.  
ptrμ΄ κ°’ 7080μΈ ν¬μΈν„° λ³€μμ΄κ³ , μ£Όμ†κ°€ 7080μΈ μ…€μ κ°’μ΄ 206μΈ κ²½μ°,  
ν• λ‹Ή 'j = *ptr'μ€ jλ¥Ό 206μΌλ΅ μ„¤μ •ν•λ” κ²ƒμ΄λ‹¤.  

ν¬μΈν„°κ°€ λ μ½”λ“λ¥Ό κ°€λ¦¬ν‚¬ λ• μ΄λ¬ν• λ μ½”λ“μ ν•„λ“μ— λ€ν• μ°Έμ΅°μ λ¬Έλ²•μ€ μ–Έμ–΄λ§λ‹¤ λ‹¤λ¥΄λ‹¤.  

in C/Cpp  

1. (*p.age), ν¬μΈν„° λ³€μ pκ°€ ageλΌλ” ν•„λ“λ¥Ό κ°€μ§„ λ μ½”λ“λ¥Ό κ°€λ¦¬ν‚¬ λ•
2. p -> age, μ—°μ‚°μ `->`λ” λ μ½”λ“μ— λ€ν• ν¬μΈν„°μ™€ ν•΄λ‹Ή λ μ½”λ“μ ν•„λ“ μ‚¬μ΄μ— μ‚¬μ©λ  λ• μ—­μ°Έμ΅°μ™€ ν•„λ“ μ°Έμ΅°λ¥Ό κ²°ν•©

Ada, μ΄λ¬ν• ν¬μΈν„°μ μ‚¬μ©μ΄ μ•”λ¬µμ μΌλ΅ μ—­μ°Έμ΅°λκΈ° λ•λ¬Έμ— p.ageλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.  

## π’« ν¬μΈν„°μ λ¬Έμ λ“¤

ν¬μΈν„° λ³€μλ¥Ό ν¬ν•¨ν• μµμ΄μ κ³ μμ¤€ μ–Έμ–΄ 'PL/I', μ—¬κΈ°μ„ ν¬μΈν„°λ” λ™μ  λ³€μμ™€ λ‹¤λ¥Έ λ³€μλ¥Ό λ¨λ‘ μ°Έμ΅°ν•λ” λ° μ‚¬μ©λ  μ μμ—λ‹¤.  

PL/Iμ ν¬μΈν„°λ” λ§¤μ° μ μ—°ν–μ§€λ§ μ—¬λ¬ μ¤λ¥λ¥Ό λ°μƒμ‹ν‚¬ μ μμ—λ‹¤.  
ν›„μ† μ–Έμ–΄λ“¤μ ν¬μΈν„°λ“¤μ—λ„ PL/I ν¬μΈν„°λ“¤μ λ¬Έμ  μ¤‘ μΌλ¶€κ°€ κ·Έλ€λ΅ μ΅΄μ¬ν•λ‹¤.  

μµκ·Ό μ–Έμ–΄λ“¤μ€ ν¬μΈν„°λ“¤μ„ μ°Έμ΅° ν•μ‹μΌλ΅ μ™„μ „ν λ€μ²΄ν–λ”λ°, μ΄λ” μ•”λ¬µμ μΈ ν• λ‹Ή ν•΄μ μ™€ ν•¨κ» ν¬μΈν„°λ“¤μ μ£Όμ” λ¬Έμ λ¥Ό μµμ†ν™”ν•λ‹¤. μ°Έμ΅° ν•μ‹μ€ μ‹¤μ λ΅ μ—°μ‚°μ΄ μ ν•λ ν¬μΈν„°μΌ λΏμ΄λ‹¤.  

### π«§ Dangling Pointers

Danling Pointer, Dangling Reference  
ν• λ‹Ή ν•΄μ λ λ™μ  λ³€μμ μ£Όμ†λ¥Ό ν¬ν•¨ν•λ” ν¬μΈν„°λ‹¤.  

#### λ¬Έμ κ°€ λλ” μ΄μ   

1. κ°€λ¦¬ν‚¤λ” μ„μΉκ°€ μ–΄λ–¤ μƒλ΅μ΄ λ™μ  λ³€μμ— μ¬ν• λ‹Ή λμ„ μ μλ‹¤.
   - μƒλ΅μ΄ λ³€μκ°€ μ΄μ „ λ³€μμ™€ λ™μΌν• μ ν•μ΄ μ•„λ‹λΌλ©΄, λ•κΈ€λ§ ν¬μΈν„°μ μ©λ„μ— λ€ν• μ ν• κ²€μ‚¬λ” μ ν¨ν•μ§€ μ•λ‹¤.
   - μƒλ΅μ΄ λ™μ  λ³€μκ°€ λ™μΌν• μ ν•μ΄λ”λΌλ„, κ·Έκ²ƒμ μƒλ΅μ΄ κ°’μ€ μ΄μ „ ν¬μΈν„°μ νκΈ°λ κ°’κ³Ό κ΄€λ ¨μ΄ μ—†μ„ κ²ƒμ΄λ‹¤.
2. λ•κΈ€λ§ ν¬μΈν„°κ°€ λ™μ  λ³€μ κ°’μ„ λ³€κ²½ν•λ” λ° μ‚¬μ©λλ‹¤λ©΄, μƒλ΅μ΄ λ™μ  λ³€μμ κ°’μ€ νκ΄΄λ  κ²ƒμ΄λ‹¤.
3. ν„μ¬ μ„μΉκ°€ μ¤ν† λ¦¬μ§€ κ΄€λ¦¬ μ‹μ¤ν…μ— μν•΄ μΌμ‹μ μΌλ΅ μ‚¬μ©λκ³  μμ„ μ μκ³ , μ•„λ§λ„ μ‚¬μ© κ°€λ¥ν• μ¤ν† λ¦¬μ§€ λΈ”λ΅λ“¤μ μ²΄μΈμ—μ„ ν¬μΈν„°λ΅ μ‚¬μ©λ  μ μμΌλ―€λ΅, μ¤ν† λ¦¬μ§€ κ΄€λ¦¬μκ°€ μ‹¤ν¨ν•λ” μ›μΈμ΄ λ  μ μλ‹¤.

#### Danling Pointerκ°€ λ§λ“¤μ–΄μ§€λ” κ³Όμ •

1. μƒλ΅μ΄ λ™μ  λ³€μ μƒμ„±, ν¬μΈν„° p1μ΄ ν•΄λ‹Ή λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ μ„¤μ •.
2. ν¬μΈν„° p2μ— p1μ κ°’μ΄ ν• λ‹Ή.
3. p1μ΄ κ°€λ¦¬ν‚¤λ” λ™μ  λ³€μλ” λ…μ‹μ μΌλ΅ ν• λ‹Ή ν•΄μ λμ§€λ§ (p1μ„ nilλ΅ μ„¤μ •ν•  μλ„ μμ), p2λ” μ—°μ‚°μ— μν•΄ λ³€κ²½λμ§€ μ•μ.
   - μ΄μ  p2λ” Danling Pointer.
   - ν• λ‹Ή ν•΄μ  μ—°μ‚°μ΄ p1μ„ λ³€κ²½ν•μ§€ μ•μ•λ‹¤λ©΄ p1κ³Ό p2λ” λ¨λ‘ Danling PointerμΌ κ²ƒ.
   - (λ¬Όλ΅  μ΄κ²ƒμ€ [Ailiasing](https://seonggyu.tistory.com/24)μ λ¬Έμ , p1κ³Ό p2λ” Aliases.)

i.e.

```cpp
int * arrayPtr1;
int * arrayPtr2 = new int[100];
arrayPtr1 = arrayPtr2;
delete [] arrayPtr2;
// Now, arrayPtr1 is dangling, because the heap storage
// to which it was pointing has been deallocated.
```

λ°°μ—΄ Ptr1κ³Ό Ptr2 λ¨λ‘ λ‹¬λ§ ν¬μΈν„°κ°€ λλ”λ°, μ΄λ” C++ `delete` μ—°μ‚°μκ°€ ν”Όμ—°μ‚°μ ν¬μΈν„°μ κ°’μ— μ•„λ¬΄λ° μν–¥μ„ μ£Όμ§€ μ•κΈ° λ•λ¬Έμ΄λ‹¤.  
C++μ—μ„λ” nullμ„ λ‚νƒ€λ‚΄λ” 0μ ν• λ‹Ήμ„ κ°€μ§„ `delete` μ—°μ‚°μλ¥Ό ν¬μΈν„°μ— λ”°λΌ μ΄λ™ν•λ” κ²ƒμ΄ μΌλ°μ μ΄λ©° μ•μ „ν•©λ‹λ‹¤.  
λ™μ  λ³€μμ λ…μ‹μ μΈ ν• λ‹Ή ν•΄μ κ°€ λ•κΈ€λ§ ν¬μΈν„°μ μ›μΈμ΄λΌλ” μ μ— μ μν•μ‹­μ‹μ¤.  

`delete`` μ—°μ‚°μκ°€ ν”Όμ—°μ‚°μ ν¬μΈν„°μ κ°’μ— μ•„λ¬΄λ° μν–¥μ„ λ―ΈμΉμ§€ μ•κΈ° λ•λ¬Έμ— λ°°μ—΄ Ptr1κ³Ό Ptr2 λ¨λ‘ λ•κΈ€λ§ ν¬μΈν„°κ°€ λλ‹¤.  
κ°€λ¦¬μΉλ κ°’μ΄ ν• λ‹Ή ν•΄μ λ ν¬μΈν„°μ— nullμ„ λ‚νƒ€λ‚΄λ” 0μ„ ν• λ‹Ήν•λ” μλ―Έμ 'delete' μ—°μ‚°μλ¥Ό λ”°λ¥΄λ” κ²ƒμ΄ μΌλ°μ μ΄λ©° μ•μ „ν•λ‹¤.  

λ™μ  λ³€μμ λ…μ‹μ μΈ ν• λ‹Ή ν•΄μ κ°€ λ•κΈ€λ§ ν¬μΈν„°μ μ›μΈμ΄λΌλ” μ μ— μ μ.

### π«§ Lost Heap-Dynamic Variables

Lost Heap-Dynamic Variables  
ν• λ‹Ήλ λ™μ  λ³€μμ§€λ§, λ” μ΄μƒ μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ—μ„ μ ‘κ·Όν•  μ μ—†λ” λ³€μλ¥Ό λ§ν•λ‹¤.  

μ΄λ¬ν• λ³€μλ“¤μ€ μ›λ λ©μ μ— μ μ©ν•μ§€ μ•κ³  ν”„λ΅κ·Έλ¨μ—μ„ μƒλ΅μ΄ μ©λ„λ΅ μ¬ν• λ‹Ήλ  μ μ—†κΈ° κ°€λΉ„μ§€(garbage)λΌκ³ λ„ λ¶λ¦°λ‹¤.  

#### Lost Heap-Dynamic Variablesκ°€ λ§λ“¤μ–΄μ§€λ” κ³Όμ •

1. ν¬μΈν„° p1μ€ μƒλ΅ μƒμ„±λ λ™μ  λ³€μ Aλ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ μ„¤μ •
2. p1μ€ λ‚μ¤‘μ— μƒλ΅ μƒμ„±λ λ‹¤λ¥Έ λ™μ  λ³€μBλ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ μ„¤μ •
   - Aλ” μ΄μ  μ ‘κ·Όν•  μ μ—†μ, μ μ‹¤λ¨. (λ©”λ¨λ¦¬ λ„μ - Memory Leak)

λ©”λ¨λ¦¬ λ„μλ” μ–Έμ–΄κ°€ μ•”μ‹μ  λλ” λ…μ‹μ  ν• λ‹Ή ν•΄μ λ¥Ό μ‚¬μ©ν•λ”μ§€μ— κ΄€κ³„μ—†μ΄ λ¬Έμ κ°€ λλ‹¤.  

## π’« μ–Έμ–΄ λ³„ ν¬μΈν„° (+ ν¬μΈν„° λ¬Έμ  ν•΄κ²° λ°©λ²•)

### π«§ Pointers in Ada

ν¬μΈν„°λ¥Ό Access νƒ€μ…μ΄λΌκ³  λ¶€λ¥Έλ‹¤.  

'Dangling Pointer' λ¬Έμ λ” μ΄λ΅ μ μΌλ΅λ” Adaμ μ„¤κ³„μ— μν•΄ λ¶€λ¶„μ μΌλ΅ μ™„ν™”λλ‹¤.  

λ™μ  λ³€μκ°€ ν¬μΈν„° νƒ€μ…μ Scope λμ— μ•”λ¬µμ μΌλ΅ (μ„ νƒμ— λ”°λΌ) ν• λ‹Ή ν•΄μ λ  μ μμΌλ―€λ΅, λ…μ‹μ μΈ ν• λ‹Ή ν•΄μ μ ν•„μ”μ„±μ΄ ν¬κ² μ¤„μ–΄λ“ λ‹¤.  
κ·Έλ¬λ‚ Ada μ»΄νμΌλ¬ μ¤‘μ— μ΄λ° ν•νƒμ κ°€λΉ„μ§€ μ»¬λ ‰μ…μ„ κµ¬ν„ν•λ” κ²½μ°λ” κ±°μ μ—†κΈ° λ•λ¬Έμ—, λ€λ¶€λ¶„ μ΄λ΅ μ μΌλ΅λ§ μ΄μ μ΄ μλ‹¤.  

λ™μ  λ³€μλ” μ¤μ§ ν• μΆ…λ¥μ λ³€μλ§ μ ‘κ·Όν•  μ μκΈ° λ•λ¬Έμ—, ν•΄λ‹Ή νƒ€μ… μ„ μ–Έμ Scope λμ— λ„λ‹¬ν•λ©΄ λ™μ  λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ¥Ό λ‚¨κΈΈ μ μ—†λ‹¤.  
μ΄λ¬λ©΄ λ¬Έμ κ°€ μ¤„μ–΄λ“ λ‹¤.  

λ…μ‹μ  ν• λ‹Ή ν•΄μ μΈ Unchecked_Deallocationλ„ μκΈ΄ ν•μ§€λ§, Dangling-pointerλ¥Ό λ°μƒμ‹ν‚¬ μ μκΈ°μ—, μ΄λ¦„μ„ ν†µν•΄ μ μ¬μ μΈ λ¬Έμ λ¥Ό κ²½κ³ ν•κ³  μλ‹¤.  

'Lost Heap-Dynamic Variables' λ¬Έμ λ” μ„¤κ³„λ΅ ν•΄κ²°λμ§€ μ•λ”λ‹¤.

### π«§ Pointers in C and C++

μ£Όμ†κ°€ μ–΄μ…λΈ”λ¦¬ μ–Έμ–΄μ—μ„ μ‚¬μ©λλ” κ²ƒκ³Ό κ°™μ€ λ°©μ‹μΌλ΅ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•  μ μλ”λ°,  
μ΄λ” λ§¤μ° μ μ—°ν•μ§€λ§ μ£Όμν•΄μ„ μ‚¬μ©ν•΄μ•Ό ν•¨μ„ μλ―Έν•λ‹¤. μ΄λ¬ν• μ„¤κ³„λ” ν¬μΈν„° λ¬Έμ λ“¤μ— λ€ν• ν•΄κ²°μ±…μ„ μ κ³µν•μ§€ μ•κΈ° λ•λ¬Έμ΄λ‹¤.  

κ·Έλ¬λ‚ C/C++μ—μ„ ν¬μΈν„° μ—°μ‚°μ΄ κ°€λ¥ν•λ‹¤λ” μ‚¬μ‹¤μ€ λ‹¤λ¥Έ ν”„λ΅κ·Έλλ° μ–Έμ–΄λ³΄λ‹¤ ν¬μΈν„°κ°€ λ” ν¥λ―Έλ΅­κ² λ§λ“ λ‹¤. (λ¦¬μ¤ν¬/λ¦¬ν„΄)  

Cμ™€ C++ ν¬μΈν„°λ” ν• λ‹Ήλ μ„μΉμ— κ΄€κ³„μ—†μ΄ μ„μμ λ³€μλ¥Ό κ°€λ¦¬ν‚¬ μ μλ‹¤.  
μ‹¤μ λ΅ ν¬μΈν„°μ μ„ν— μ¤‘ ν•λ‚μΈ λ³€μκ°€ μ΅΄μ¬ν•λ“  μ΅΄μ¬ν•μ§€ μ•λ“  λ©”λ¨λ¦¬μ μ–΄λ κ³³μ„ κ°€λ¦¬ν‚¬ μ μλ‹¤.  
λ‘ μ½”λ“λ” μλ―Έκ°€ κ°™λ‹¤.  

```cpp
int *ptr;
int count, init;

// ...

ptr = &init;
count = *ptr;
```

```cpp
int count, init;
count = init;
```

μΌλ¶€ μ ν•λ ν•μ‹μΌλ΅ Pointer μ—°μ‚°μ΄ κ°€λ¥ν•λ‹¤.  

μλ¥Ό λ“¤μ–΄, ptrμ΄ μΌλ¶€ λ°μ΄ν„° μ ν•μ λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ” κ²ƒμΌλ΅ μ„ μ–Έλ ν¬μΈν„° λ³€μλΌλ©΄ 'ptr + index'λ” ν•©λ²•μ μΈ ν‘ν„μ‹μ…λ‹λ‹¤.  
ptrμ—μ„ (ptrμ΄ λ€μƒμΌλ΅ ν•λ” νƒ€μ… ν¬κΈ° * index) λ§νΌ λ–¨μ–΄μ§„ λ©”λ¨λ¦¬ μ…€μ„ κ°€λ¦¬ν‚¨λ‹¤.  
μ΄λ¬ν• μ£Όμ† μ—°μ‚°μ μ£Όλ λ©μ μ€ λ°°μ—΄ μ΅°μ‘μ΄λ‹¤.  

(1μ°¨μ› λ°°μ—΄μ— λ€ν•΄  )
C/C++μ—μ„ λ¨λ“  λ°°μ—΄μ€ μ²¨μ λ²”μ„μ ν•ν•μΌλ΅ 0μ„ μ‚¬μ©ν•λ©°, μ²¨μκ°€ μ—†λ” λ°°μ—΄ μ΄λ¦„μ€ ν•­μƒ μ²« λ²μ§Έ μ”μ†μ μ£Όμ†λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤.  

```cpp
int list [10];
int *ptr;

ptr = list;
```

- *(ptr + 1)λ” list[1]
- *(ptr + index)λ” list[index]
- ptr[index]λ” list[index]

ν¬μΈν„° μ—°μ‚°μ΄ μΈλ±μ‹± μ—°μ‚°μ—μ„ μ‚¬μ©λλ” κ²ƒκ³Ό κ°™μ€ μ¤μΌ€μΌλ§μ„ ν¬ν•¨ν•λ‹¤λ” κ²ƒμ΄ λ¶„λ…ν•λ‹¤.  
λ°°μ—΄μ— λ€ν• ν¬μΈν„°λ“¤μ€ λ°°μ—΄ μ΄λ¦„μΈ κ²ƒμ²λΌ μΈλ±μ‹±λ  μ μλ‹¤.  

ν¬μΈν„°λ“¤μ€ λ§¤κ°λ³€μ μ „λ‹¬μ—λ„ μ‚¬μ©λλ‹¤.  
C/C++λ” μ–΄λ–¤ ν•μ‹μ κ°’μ΄λ“  κ°€λ¦¬ν‚¬ μ μλ” μΌλ°μ μΈ ν¬μΈν„°, void\* ν¬μΈν„°λ“¤μ„ μ΄μ©ν•λ‹¤.  

C/C++μ ν¬μΈν„°λ“¤μ€ ν•¨μλ“¤μ„ κ°€λ¦¬ν‚¬ μ μλ‹¤.  
λ§¤κ°λ³€μλ¥Ό ν†µν•΄ ν•¨μλ“¤μ„ λ‹¤λ¥Έ ν•¨μμ— μ „λ‹¬ν•λ” λ° μ‚¬μ©λλ‹¤.  

## π’« Reference Type

---

Reference Typeμ€ ν¬μΈν„°μ™€ λΉ„μ·ν•μ§€λ§, μ¤‘μ”ν•κ³  κΈ°λ³Έμ μΈ μ°¨μ΄μ μ΄ μλ‹¤.  

ν¬μΈν„°λ” λ©”λ¨λ¦¬ λ‚΄μ μ£Όμ†λ¥Ό μλ―Έν•κ³ ,  
μ°Έκ³ ν•μ€ λ©”λ¨λ¦¬ λ‚΄μ κ°μ²΄λ‚ κ°’μ„ μλ―Έν•λ‹¤.  

λ”°λΌμ„,  
μ£Όμ†μ— λ€ν•΄μ„λ” μ—°μ‚°μ„ μν–‰ν•λ” κ²ƒμ΄ λ‹Ήμ—°ν•μ§€λ§  
μ°Έκ³ ν•μ— λ€ν•΄μ„λ” μ—°μ‚°μ„ μν–‰ν•λ” κ²ƒμ΄ μ μ ν•μ§€ μ•λ‹¤.  

C++λ” ν•¨μ μ •μμ—μ„ κ³µμ‹ λ§¤κ°λ³€μμ— μ£Όλ΅ μ‚¬μ©λλ” νΉμν• μΆ…λ¥μ μ°Έμ΅°ν•μ΄ μλ‹¤.  
C++ μ°Έμ΅°ν• λ³€μλ” ν•­μƒ μ•”λ¬µμ μΌλ΅ λ””λ νΌλ°μ¤λλ” μƒμ ν¬μΈν„°μ…λ‹λ‹¤.  
C++ μ°Έμ΅°ν• λ³€μλ” μƒμμ΄λ―€λ΅ μ •μμ—μ„ μ–΄λ–¤ λ³€μμ μ£Όμ†λ΅ μ΄κΈ°ν™”λμ–΄μ•Ό ν•λ©°,  
μ΄κΈ°ν™” ν›„μ—λ” μ λ€λ΅ λ‹¤λ¥Έ λ³€μλ¥Ό μ°Έμ΅°ν•λ„λ΅ μ„¤μ •ν•  μ μ—†μµλ‹λ‹¤.  
μ•”λ¬µμ  λ””λ νΌλ°μ¤λ” μ°Έμ΅° λ³€μμ μ£Όμ† κ°’μ— ν• λ‹Ήλμ§€ μ•μµλ‹λ‹¤.

μ°Έμ΅°ν• λ³€μλ” μ•°νΌμƒλ“(&)λ΅ μ΄λ¦„ μ•μ— λ¶™μ—¬ μ •μλ©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄,

```cpp
result = 0;
int &ref_ result = result;
ref_result = 100;
```

μ΄ μ½”λ“ μ„Έκ·Έλ¨ΌνΈμ—μ„ result λ° ref_resultλ” λ³„μΉ­(λ™μμ–΄)μ΄λ‹¤.

ν•¨μ μ •μμ—μ„ ν•μ‹ λ§¤κ°λ³€μλ΅ μ‚¬μ©λλ” κ²½μ° C++ μ°Έμ΅° μ ν•μ€ νΈμ¶μ ν•¨μμ™€ νΈμ¶λ ν•¨μ κ°„μ μ–‘λ°©ν–¥ ν†µμ‹ μ„ μ κ³µν•λ‹¤.  
C++ λ§¤κ°λ³€μλ” κ°’μΌλ΅ μ „λ‹¬λκΈ° λ•λ¬Έμ— λΉ„ν¬μΈν„° ν”„λ¦¬λ―Έν‹°λΈ λ§¤κ°λ³€μ μ ν•μ—μ„λ” λ¶κ°€λ¥ν•λ‹¤.  
ν¬μΈν„°λ¥Ό λ§¤κ°λ³€μλ΅ μ „λ‹¬ν•λ©΄ λ™μΌν• μ–‘λ°©ν–¥ ν†µμ‹ μ΄ μν–‰λμ§€λ§ ν¬μΈν„° ν•μ‹ λ§¤κ°λ³€μλ” λ…μ‹μ μΈ μ—­μ°Έμ΅°λ¥Ό ν•„μ”λ΅ ν•λ―€λ΅ μ½”λ“μ κ°€λ…μ„±κ³Ό μ•μ „μ„±μ΄ λ–¨μ–΄μ§„λ‹¤.  
μ°Έμ΅° λ§¤κ°λ³€μλ” λ‹¤λ¥Έ λ§¤κ°λ³€μμ™€ λ§μ°¬κ°€μ§€λ΅ νΈμ¶λ ν•¨μμ—μ„ μ •ν™•ν μ°Έμ΅°λλ‹¤.  
νΈμ¶ ν•¨μλ” ν•΄λ‹Ή ν•μ‹ λ§¤κ°λ³€μκ°€ μ°Έμ΅° μ ν•μΈ λ§¤κ°λ³€μκ°€ νΉμ΄ν• κ²ƒμ„μ„ μ§€μ •ν•  ν•„μ”κ°€ μ—†λ‹¤.  
μ»΄νμΌλ¬λ” μ°Έμ΅° λ§¤κ°λ³€μμ— κ°’μ΄ μ•„λ‹ μ£Όμ†λ¥Ό μ „λ‹¬ν•λ‹¤.

Javaλ” μ•μ „μ„±μ„ λ†’μ΄κΈ° μ„ν•΄ C++ μ¤νƒ€μΌμ ν¬μΈν„°λ¥Ό μ•„μ μ κ±°ν–λ‹¤.  
Java μ°Έμ΅° λ³€μλ”, C++ μ°Έμ΅° λ³€μμ™€ λ‹¬λ¦¬ μƒμκ°€ μ•„λ‹λΌ μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤ μΈμ¤ν„΄μ¤λ¥Ό μ°Έμ΅°ν•λ„λ΅ μ§€μ •ν•  μ μλ‹¤.  
λ¨λ“  μλ°” ν΄λμ¤ μΈμ¤ν„΄μ¤λ” μ°Έμ΅° λ³€μμ— μν•΄ μ°Έμ΅°λλ‹¤.  

```java
String str1; // null
str1 = "This is a Java literal string.";
```

str1μ€ String ν΄λμ¤ μΈμ¤ν„΄μ¤ λλ” κ°μ²΄μ— λ€ν• μ°Έμ΅°λ΅ μ •μλλ‹¤.  
μ΄κΉƒκ°’ null, μ΄ν›„ str1μ΄ String κ°μ²΄μΈ "This is a Java literal string."λ¥Ό μ°Έμ΅°.  

C#, Java ν΄λμ¤ μΈμ¤ν„΄μ¤λ” μ•”λ¬µμ μΌλ΅ ν• λ‹Ή ν•΄μ λλ―€λ΅ (λ…μ‹μ  ν• λ‹Ή ν•΄μ  μ—°μ‚°μκ°€ μ—†μ) Javaμ—λ” dangling referenceκ°€ μμ„ μ μ—†λ‹¤.

C#μ€ μ°Έμ΅°μ™€ ν¬μΈν„°λ¥Ό λ¨λ‘ κ°€μ§„λ‹¤.  
ν•μ§€λ§ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ€ κ°•λ ¥ν κ¶μ¥λμ§€ μ•λ”λ‹¤. (ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ `unsafe` μμ‹μ–΄λ¥Ό ν¬ν•¨)  
μ°Έμ΅°λ΅ κ°€λ¦¬ν‚¨ κ°μ²΄λ” μ•”λ¬µμ μΌλ΅ ν• λ‹Ή ν•΄μ λμ§€λ§, ν¬μΈν„°λ΅ κ°€λ¦¬ν‚¨ κ°μ²΄μ κ²½μ°μ—λ” κ·Έλ ‡μ§€ μ•λ”λ‹¤.  
C/C++ μ½”λ“μ™€ μƒνΈ μ‘μ©ν•  μ μλ„λ΅ ν¬ν•¨λλ‹¤.

κ°μ²΄ μ§€ν–¥ μ–Έμ–΄μΈ Smalltalk, Python, Ruby, Luaμ λ¨λ“  λ³€μλ” μ°Έμ΅°λ‹¤.  
μ΄λ“¤μ€ ν•­μƒ μ•”λ¬µμ μΌλ΅ μ°Έμ΅° ν•΄μ λλ‹¤.  
κ²λ‹¤κ°€ μ΄ λ³€μλ“¤μ μ§μ ‘μ μΈ κ°’μ€ μ ‘κ·Όν•  μ μ—†λ‹¤.  

### π’« ν‰κ°€

---

Lost Heap-Dynamic Variables, Danling Pointer  

Pointer vs goto  
goto λ¬Έμ€ λ‹¤μμ— μ‹¤ν–‰λ  μ μλ” λ¬Έμ¥μ λ²”μ„λ¥Ό λ„“ν™λ‹λ‹¤.  
ν¬μΈν„° λ³€μλ” λ³€μκ°€ μ°Έμ΅°ν•  μ μλ” λ©”λ¨λ¦¬ μ…€μ λ²”μ„λ¥Ό λ„“νλ‹¤.  

λ°λ©΄ ν¬μΈν„°λ” μ–΄λ–¤ μΆ…λ¥μ ν”„λ΅κ·Έλλ° μ‘μ© ν”„λ΅κ·Έλ¨μ—μ„ ν•„μμ μ΄λ‹¤.  
μλ¥Ό λ“¤μ–΄ ν¬μΈν„°λ” νΉμ •ν• μ λ€ μ£Όμ†μ— μ ‘κ·Όν•΄μ•Ό ν•λ” μ¥μΉ λ“λΌμ΄λ²„λ¥Ό μ‘μ„±ν•λ” λ° ν•„μ”ν•λ‹¤.

μλ°”μ™€ C#μ μ°Έμ΅°λ” μ„ν— μ”μ† μ—†μ΄ ν¬μΈν„°μ μ μ—°μ„±κ³Ό κΈ°λ¥μ„ μ–΄λ μ •λ„ μ κ³µν•λ‹¤.  
ν”„λ΅κ·Έλλ¨Έλ“¤μ΄ μ°Έμ΅°μ μ•μ „μ„±μ„ λ” μ¤‘μ”μ‹ ν•μ—¬ Cμ™€ C++ ν¬μΈν„°μ μ™„μ „ν• νμ„ κΈ°κΊΌμ΄ κµν™ν• μ§€λ” λ‘κ³  λ΄μ•Ό ν•  κ²ƒ.  
C# ν”„λ΅κ·Έλ¨μ΄ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” μ •λ„κ°€ μ΄κ²ƒμ ν• μ²™λ„κ°€ λ  κ²ƒ.

### π’« Implementation of Pointer and Reference Types

---

λ€λ¶€λ¶„μ μ–Έμ–΄μ—μ„ ν¬μΈν„°λ” ν™ κ΄€λ¦¬μ— μ‚¬μ©λλ‹¤.  
Smalltalkμ™€ Rubyμ λ³€μλΏλ§ μ•„λ‹λΌ Javaμ™€ C# μ°Έμ΅°λ„ λ§μ°¬κ°€μ§€μ΄λ―€λ΅ ν¬μΈν„°μ™€ μ°Έμ΅°λ¥Ό λ”°λ΅ λ‹¤λ£° μ μ—†λ‹¤.  

### π«§ Representations of Pointers and References

λ€λ¶€λ¶„μ μ»΄ν“¨ν„°μ—μ„ ν¬μΈν„°μ™€ μ°Έμ΅°λ” λ©”λ¨λ¦¬ μ…€μ— μ €μ¥λ λ‹¨μΌ κ°’μ΄λ‹¤.  
κ·Έλ¬λ‚ μΈν…” λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„λ¥Ό κΈ°λ°μΌλ΅ ν•λ” μ΄κΈ°μ λ§μ΄ν¬λ΅μ»΄ν“¨ν„°μ—μ„λ” μ£Όμ†κ°€ μ„Έκ·Έλ¨ΌνΈμ™€ μ¤ν”„μ…‹ λ‘ λ¶€λ¶„μΌλ΅ κµ¬μ„±λλ‹¤.  
λ”°λΌμ„ μ΄λ¬ν• μ‹μ¤ν…μ—μ„ ν¬μΈν„°μ™€ μ°Έμ΅°λ” 16λΉ„νΈ μ…€ μμΌλ΅ κµ¬ν„λλ©°, μ£Όμ†μ λ‘ λ¶€λ¶„ κ°κ°μ— λ€ν•΄ ν•λ‚μ”© κµ¬ν„λλ‹¤.

### π«§ Solutions to the Dangling-Pointer Problem

Dangling-Pointer λ¬Έμ μ— λ€ν• ν•΄κ²°μ±…μ€ μ—¬λ¬ κ°€μ§€κ°€ μ μ•λλ‹¤.  

λ¬Όλ΅ , μµμ„ μ ν•΄κ²°μ±…μ€ λ™μ  λ³€μλ“¤μ ν• λ‹Ήμ„ ν”„λ΅κ·Έλλ¨Έμ μ†μ—μ„ μ—†μ• λ” κ²ƒμ΄λ‹¤.  
ν”„λ΅κ·Έλ¨λ“¤μ΄ λ™μ  λ³€μλ“¤μ ν• λ‹Ήμ„ λ…μ‹μ μΌλ΅ ν•΄μ ν•  μ μ—†λ‹¤λ©΄, Dangling-Pointerλ“¤μ€ μ—†μ„ κ²ƒμ…λ‹λ‹¤.  

μ΄λ¥Ό μ„ν•΄μ„λ” λ°νƒ€μ„ μ‹μ¤ν…μ΄ λ™μ  λ³€μλ“¤μ΄ λ” μ΄μƒ μ“Έλ¨κ°€ μ—†μ„ λ• μ•”λ¬µμ μΌλ΅ ν• λ‹Ήμ„ ν•΄μ ν•΄μ•Ό ν•λ‹¤.  
LISP μ‹μ¤ν…λ“¤μ€ ν•­μƒ μ΄λ ‡κ² ν•΄μ™”κ³ , Javaμ™€ C# λ¨λ‘ μ°Έμ΅° λ³€μλ“¤μ— λ€ν•΄μ„ μ΄ μ ‘κ·Όλ²•μ„ μ‚¬μ©ν•λ‹¤.  
C#μ ν¬μΈν„°λ“¤μ—λ” μ•”λ¬µμ μΈ ν• λ‹Ή ν•΄μ κ°€ ν¬ν•¨λμ–΄ μμ§€ μ•μμ„ κΈ°μ–µ.  

#### Tombstones

λ¨λ“  λ™μ  λ³€μκ°€ λ™μ  λ³€μμ— λ€ν• ν¬μΈν„°μΈ 'Tombstone'μ΄λΌκ³  λ¶λ¦¬λ” νΉμ μ…€μ„ ν¬ν•¨ν•λ” `Tombstones`.  

μ‹¤μ  ν¬μΈν„° λ³€μλ” 'Tombstone'μ—λ§ μκ³  λ™μ  λ³€μλ” μ λ€ κ°€λ¦¬ν‚¤λ” κ²ƒμ΄ μ•„λ‹λ‹¤.  
λ™μ  λ³€μκ°€ ν• λ‹Ή ν•΄μ λλ©΄ 'Tombstone'μ€ κ·Έλ€λ΅ μ μ§€λμ§€λ§ '0'μΌλ΅ μ„¤μ •λμ–΄ λ™μ  λ³€μκ°€ λ” μ΄μƒ μ΅΄μ¬ν•μ§€ μ•μμ„ λ‚νƒ€λ‚Έλ‹¤.  
μ΄ μ ‘κ·Όλ²•μ€ ν¬μΈν„°κ°€ ν• λ‹Ή ν•΄μ λ λ³€μλ¥Ό κ°€λ¦¬ν‚¤λ” κ²ƒμ„ λ°©μ§€ν•λ‹¤.  
0μ΄ μ•„λ‹ 'Tombstone'μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°μ— λ€ν• λ¨λ“  μ°Έμ΅°λ” μ¤λ¥λ΅ νƒμ§€λ  μ μλ‹¤.

'Tombstone'μ€ μ‹κ°„μ μΌλ΅λ‚ κ³µκ°„μ μΌλ΅λ‚ λΉ„μ©μ΄ λ§μ΄ λ“ λ‹¤.  
'Tombstone'μ€ κ²°μ½” ν• λ‹Ήμ΄ ν•΄μ λμ§€ μ•κΈ° λ•λ¬Έμ—, κ·Έ μ €μ¥κ³µκ°„μ€ λ‹¤μ‹ ν™•λ³΄λμ§€ μ•λ”λ‹¤.  
ν™ λ™μ  λ³€μμ— μ ‘κ·Όν•  λ•λ§λ‹¤ ν• λ‹¨κ³„μ λ°©ν–¥ μ „ν™μ΄ λ” ν•„μ”ν•κ³ , λ€λ¶€λ¶„μ μ»΄ν“¨ν„°μ—μ„ μ¶”κ°€μ μΈ κΈ°κ³„ μ‚¬μ΄ν΄μ΄ ν•„μ”ν•λ‹¤.  

λ„λ¦¬ μ‚¬μ©λλ” μ–Έμ–΄λ“¤ μ¤‘ 'Tombstone'λ¥Ό μ“°λ” μ–Έμ–΄κ°€ μ—†λ‹¤.  
β†’ μ–Έμ–΄ μ„¤κ³„μλ“¤ μ¤‘ κ·Έ λ„κµ¬λ„ κ·Έ μ¶”κ°€μ μΈ μ•μ „μ„±μ΄ μ΄λ¬ν• μ¶”κ°€μ μΈ λΉ„μ©μ κ°€μΉκ°€ μλ‹¤κ³  μƒκ°ν•μ§€ μ•μ.  

#### Locks-and-Keys Approach

UW-Pascal κµ¬ν„μ— μ‚¬μ©λλ” `Locks-and-Keys` μ ‘κ·Όλ²•.  

μ΄ μ»΄νμΌλ¬μ—μ„ ν¬μΈν„° κ°’μ€ μμ„μ(key, address)μΌλ΅ ν‘ν„λλ©°, μ—¬κΈ°μ„ ν‚¤λ” μ •μ κ°’μ΄λ‹¤.  
λ™μ  λ³€μλ” λ³€μμ μ €μ¥μ†μ— μ •μ μ κΈ κ°’μ„ μ €μ¥ν•λ” ν—¤λ” μ…€μ„ λ”ν• κ°’μΌλ΅ ν‘ν„λλ‹¤.  
λ™μ  λ³€μκ°€ ν• λ‹Ήλλ©΄ μ κΈ κ°’μ΄ μƒμ„±λμ–΄ λ™μ  λ³€μμ μ κΈ μ…€κ³Ό 'new' νΈμ¶μ— μ§€μ •λ ν¬μΈν„°μ ν‚¤ μ…€μ— λ¨λ‘ λ°°μΉλλ‹¤.  
λ””λ νΌλ°λ“ ν¬μΈν„°μ— λ€ν• λ¨λ“  μ ‘κ·Όμ—μ„, ν¬μΈν„°μ ν‚¤ κ°’μ„ λ™μ  λ³€μμ μ κΈ κ°’κ³Ό λΉ„κµν•λ‹¤.  
μΌμΉν•λ©΄ μ•΅μ„Έμ¤λ” ν•©λ²•μ΄κ³ , μΌμΉν•μ§€ μ•μΌλ©΄ λ°νƒ€μ„ μ¤λ¥λ΅ μ²λ¦¬λλ‹¤.  
λ‹¤λ¥Έ ν¬μΈν„°μ— λ€ν• ν¬μΈν„° κ°’μ λ³µμ‚¬λ³Έμ€ ν‚¤ κ°’μ„ λ³µμ‚¬ν•΄μ•Ό ν•λ‹¤.  
λ”°λΌμ„ μ–΄λ–¤ μμ ν¬μΈν„°λΌλ„ μ£Όμ–΄μ§„ λ™μ  λ³€μλ¥Ό μ°Έμ΅°ν•  μ μλ‹¤.  

λ™μ  λ³€μκ°€ 'dis-pose'λ΅ ν• λ‹Ήμ΄ ν•΄μ λλ©΄ ν•΄λ‹Ή ν¬μΈν„°μ μ κΈ κ°’μ€ μλ»λ μ κΈ κ°’μΌλ΅ μ§€μ›μ§„λ‹¤.  
κ·Έλ¬λ©΄ 'dis-pose'μ— μ§€μ •λ ν¬μΈν„°κ°€ μ•„λ‹ λ‹¤λ¥Έ ν¬μΈν„°κ°€ λ””λ νΌλ°λ“λλ©΄ μ£Όμ† κ°’μ€ κ·Έλ€λ΅ μ μ§€λμ§€λ§, ν‚¤ κ°’μ€ λ” μ΄μƒ μ κΈκ³Ό μΌμΉν•μ§€ μ•μΌλ―€λ΅ μ•΅μ„Έμ¤κ°€ ν—μ©λμ§€ μ•λ”λ‹¤.  

### π«§ Heap Management

ν™ κ΄€λ¦¬λ” λ§¤μ° λ³µμ΅ν• λ°νƒ€μ„ ν”„λ΅μ„Έμ¤κ°€ λ  μ μλ‹¤.  

κΈ€μ—μ„λ” ν• λ‹Ή ν•΄μ μ κ²½μ° μ•”λ¬µμ μΈ μ ‘κ·Ό λ°©μ‹λ§ λ…Όμ.  
ν”„λ΅μ„Έμ¤ λ° κ΄€λ ¨ λ¬Έμ μ— λ€ν• μ² μ €ν• λ¶„μ„μ€ κµ¬ν„ λ¬Έμ λ§νΌ, μ–Έμ–΄ μ„¤κ³„ λ¬Έμ κ°€ μ•„λ‹λ‹¤.

#### Single-Size Cells

κ°€μ¥ κ°„λ‹¨ν• μƒν™©μ€ λ¨λ“  ν• λ‹Ήκ³Ό ν• λ‹Ή ν•΄μ κ°€ λ‹¨μΌ ν¬κΈ°μ μ…€μΈ κ²½μ°μ…λ‹λ‹¤. λ¨λ“  μ…€μ— μ΄λ―Έ ν¬μΈν„°κ°€ μμ„ λ• λ”μ± λ‹¨μν™”λ©λ‹λ‹¤. λ™μ  μ¤ν† λ¦¬μ§€ ν• λ‹Ήμ λ¬Έμ κ°€ λ€κ·λ¨λ΅ μ²μ μ ‘ν–λ LISPμ λ§μ€ κµ¬ν„λ“¤μ μ‹λ‚λ¦¬μ¤μ…λ‹λ‹¤. λ¨λ“  LISP ν”„λ΅κ·Έλ¨λ“¤κ³Ό λ€λ¶€λ¶„μ LISP λ°μ΄ν„°λ” λ§ν¬λ λ©λ΅μ μ…€λ“¤λ΅ κµ¬μ„±λ©λ‹λ‹¤.

λ‹¨μΌ ν¬κΈ°μ ν• λ‹Ή ν™μ—μ„λ” μ‚¬μ© κ°€λ¥ν• λ¨λ“  μ…€λ“¤μ΄ μ…€ μ•μ ν¬μΈν„°λ“¤μ„ μ‚¬μ©ν•μ—¬ μ„λ΅ μ—°κ²°λμ–΄ μ‚¬μ© κ°€λ¥ν• κ³µκ°„μ λ©λ΅μ„ λ§λ“ λ‹¤. ν• λ‹Ήμ€ ν•„μ”ν•  λ• ν•„μ”ν• μμ μ…€μ„ μ΄ λ©λ΅μ—μ„ κ°€μ Έμ¤λ” κ°„λ‹¨ν• λ¬Έμ μ΄λ‹¤. ν• λ‹Ή ν•΄μ λ” ν›¨μ”¬ λ” λ³µμ΅ν• κ³Όμ •μ΄λ‹¤. ν™-λ™μ  λ³€μλ” ν•λ‚ μ΄μƒμ ν¬μΈν„°λ΅ κ°€λ¦¬ν‚¬ μ μμΌλ―€λ΅, μ–Έμ  κ·Έ λ³€μκ°€ ν”„λ΅κ·Έλ¨μ— λ” μ΄μƒ μ“Έλ¨κ°€ μ—†λ”μ§€ νλ‹¨ν•κΈ°κ°€ μ–΄λ µλ‹¤. λ‹¨μν ν•λ‚μ ν¬μΈν„°κ°€ μ…€μ—μ„ λ¶„λ¦¬λμ—λ‹¤κ³  ν•΄μ„ κ·Έκ²ƒμ΄ μ“°λ κΈ°κ°€ λλ” κ²ƒμ€ μ•„λ‹λ©°, μ…€μ„ κ°€λ¦¬ν‚¤λ” λ‹¤λ¥Έ ν¬μΈν„°λ“¤λ„ μ—¬λ¬ κ° μ΅΄μ¬ν•  μ μλ‹¤.

LISPμ—μ„λ” ν”„λ΅κ·Έλ¨μ—μ„ κ°€μ¥ λΉλ²ν• μ‘μ—… μ¤‘ λ‡ κ°€μ§€λ” λ” μ΄μƒ ν”„λ΅κ·Έλ¨μ— μ ‘κ·Όν•  μ μ—†μΌλ―€λ΅ ν• λ‹Ή ν•΄μ (μ‚¬μ© κ°€λ¥ν• κ³µκ°„ λ©λ΅μ— λ‹¤μ‹ μ¬λ ¤λ†“μ)ν•΄μ•Ό ν•λ” μ…€ λ¨μμ„ λ§λ“­λ‹λ‹¤. LISPμ κΈ°λ³Έ μ„¤κ³„ λ©ν‘ μ¤‘ ν•λ‚λ” μ‚¬μ©λμ§€ μ•μ€ μ…€μ νμκ°€ ν”„λ΅κ·Έλλ¨Έμ κ³Όμ κ°€ μ•„λ‹λΌ λ°νƒ€μ„ μ‹μ¤ν…μ κ³Όμ κ°€ λλ„λ΅ ν•λ” κ²ƒμ΄μ—μµλ‹λ‹¤. μ΄ λ©ν‘λ” LISP μ‹ν–‰μλ“¤μ—κ² κΈ°λ³Έ μ„¤κ³„ μ§λ¬Έμ„ λ‚¨κ²Όμµλ‹λ‹¤: μ–Έμ  ν• λ‹Ή ν•΄μ λ¥Ό μν–‰ν•΄μ•Ό ν•λ”κ°€? 

μ“°λ κΈ° μκ±°μ—λ” μ—¬λ¬ κ°€μ§€ λ‹¤λ¥Έ μ ‘κ·Ό λ°©μ‹μ΄ μμµλ‹λ‹¤. κ°€μ¥ μΌλ°μ μΈ λ‘ κ°€μ§€ μ „ν†µμ μΈ κΈ°μ μ€ μ–΄λ–¤ λ©΄μ—μ„λ” λ°λ€μ κ³Όμ •μ…λ‹λ‹¤. μ΄κ²ƒλ“¤μ€ λ§¤λ¦½μ΄ μ¦λ¶„μ΄κ³  μ ‘κ·Όν•  μ μ—†λ” μ…€μ΄ μƒμ„±λ  λ• μν–‰λλ” μ°Έμ΅° μΉ΄μ΄ν„°μ™€ μ‚¬μ© κ°€λ¥ν• κ³µκ°„ λ©λ΅μ΄ λΉ„μ–΄μμ„ λ•λ§ λ§¤λ¦½μ΄ λ°μƒν•λ” λ§ν¬ μ¤μ„ν”„λΌκ³  λ¶λ¦½λ‹λ‹¤. μ΄ λ‘ κ°€μ§€ λ°©λ²•μ€ λ•λ•λ΅ μ—΄μ •μ μΈ μ ‘κ·Όλ²•κ³Ό κ²μΌλ¥Έ μ ‘κ·Όλ²•μ΄λΌκ³  λ¶λ¦½λ‹λ‹¤. μ΄ λ‘ κ°€μ§€ μ ‘κ·Όλ²•μ λ§μ€ λ³€ν•μ΄ κ°λ°λμ—μµλ‹λ‹¤. κ·Έλ¬λ‚ μ΄ μ„Ήμ…μ—μ„λ” κΈ°λ³Έμ μΈ κ³Όμ •μ— λ€ν•΄μ„λ§ λ…Όμν•©λ‹λ‹¤.

μ €μ¥ νμμ μ°Έμ΅° μΉ΄μ΄ν„° λ°©λ²•μ€ ν„μ¬ μ…€μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°μ μλ¥Ό μ €μ¥ν•λ” μΉ΄μ΄ν„°λ¥Ό λ¨λ“  μ…€μ— μ μ§€ν•¨μΌλ΅μ¨ λ©ν‘λ¥Ό λ‹¬μ„±ν•©λ‹λ‹¤. μ°Έμ΅° μΉ΄μ΄ν„°μ— λ€ν• κ°μ† μ—°μ‚°μ— ν¬ν•¨λ κ²ƒμΌλ΅μ„, ν¬μΈν„°κ°€ μ…€μ—μ„ λ¶„λ¦¬λ  λ• λ°μƒν•λ” κ²ƒμ€ 0 κ°’μ— λ€ν• μ²΄ν¬μ…λ‹λ‹¤. μ°Έμ΅° μΉ΄μ΄ν„°κ°€ 0μ— λ„λ‹¬ν•λ©΄ ν”„λ΅κ·Έλ¨ ν¬μΈν„°κ°€ μ…€μ„ κ°€λ¦¬ν‚¤λ” κ²ƒμ΄ μ—†μμ„ μλ―Έν•λ©°, λ”°λΌμ„ κ°€λΉ„μ§€κ°€ λμ–΄ μ‚¬μ© κ°€λ¥ν• κ³µκ°„ λ©λ΅μΌλ΅ λλλ¦΄ μ μμµλ‹λ‹¤.

#### Variable-Size Cells

 κ°€λ³€ν¬κΈ°μ μ…€9μ΄ ν• λ‹Ήλ ν™μ„ κ΄€λ¦¬ν•λ” κ²ƒμ€ λ‹¨μΌν¬κΈ°μ μ…€μ„ κ΄€λ¦¬ν•λ” λ°μ— λ§μ€ μ–΄λ ¤μ›€μ΄ μμ§€λ§ μ¶”κ°€μ μΈ λ¬Έμ μ λ„ μμµλ‹λ‹¤. μ•νƒ€κΉκ²λ„ λ€λ¶€λ¶„μ ν”„λ΅κ·Έλλ° μ–Έμ–΄μ—μ„λ” κ°€λ³€ν¬κΈ°μ μ…€μ΄ ν•„μ”ν•©λ‹λ‹¤. κ°€λ³€ν¬κΈ°μ μ…€ κ΄€λ¦¬λ΅ μΈν•΄ μ κΈ°λλ” μ¶”κ°€μ μΈ λ¬Έμ μ λ“¤μ€ μ‚¬μ©λλ” λ°©λ²•μ— λ”°λΌ λ‹¬λΌμ§‘λ‹λ‹¤. λ§ν¬ μ¤μ„ν”„λ¥Ό μ‚¬μ©ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ μ¶”κ°€μ μΈ λ¬Έμ μ λ“¤μ΄ λ°μƒν•©λ‹λ‹¤:

 β€Ά μ“°λ κΈ°μ„μ„ λ‚νƒ€λ‚΄κΈ° μ„ν•΄ λ”λ―Έμ— μλ” λ¨λ“  μ…€μ ν‘μ‹κΈ°λ¥Ό μ΄κΈ° μ„¤μ •ν•λ” κ²ƒμ€ μ–΄λ µμµλ‹λ‹¤. μ…€μ ν¬κΈ°κ°€ λ‹¤λ¥΄κΈ° λ•λ¬Έμ—, μ…€μ„ μ¤μΊ”ν•λ” κ²ƒμ€ λ¬Έμ κ°€ λ©λ‹λ‹¤. ν•λ‚μ ν•΄κ²°μ±…μ€ κ° μ…€μ ν¬κΈ°λ¥Ό μ²« λ²μ§Έ ν•„λ“λ΅ κ°–λ„λ΅ μ”κµ¬ν•λ” κ²ƒμ…λ‹λ‹¤. κ³ μ •λ ν¬κΈ°μ μ…€μ— λΉ„ν•΄ μ•½κ°„ λ” λ§μ€ κ³µκ°„κ³Ό λ‹¤μ† λ§μ€ μ‹κ°„μ΄ κ±Έλ¦¬μ§€λ§ μ¤μΊ”μ„ μν–‰ν•  μ μμµλ‹λ‹¤.

β€Ά λ§ν‚Ή κ³Όμ •μ€ μ‚¬μ†ν• κ²ƒμ΄ μ•„λ‹™λ‹λ‹¤. ν¬μΈν„°κ°€ λ“¤μ–΄κ°€λ” μ…€μ— ν¬μΈν„°μ μ„μΉκ°€ λ―Έλ¦¬ μ •μλμ–΄ μμ§€ μ•μ€λ° μ–΄λ–»κ² ν¬μΈν„°μ—μ„ λ”°λΌμ¬ μ μμ„κΉμ”? ν¬μΈν„°κ°€ μ „ν€ μ—†λ” μ…€λ„ λ¬Έμ μ…λ‹λ‹¤. λ°νƒ€μ„ μ‹μ¤ν…μ— μν•΄ λ°±κ·ΈλΌμ΄λ“λ΅ μ μ§€λλ” κ° μ…€μ— λ‚΄λ¶€ ν¬μΈν„°λ¥Ό μ¶”κ°€ν•λ©΄ λ©λ‹λ‹¤. ν•μ§€λ§ μ΄λ¬ν• λ°±κ·ΈλΌμ΄λ“ μ μ§€ κ΄€λ¦¬ μ²λ¦¬λ” ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ λΉ„μ©μ— κ³µκ°„ λ° μ‹¤ν–‰ μ‹κ°„ μ¤λ²„ν—¤λ“λ¥Ό λ¨λ‘ μ¶”κ°€ν•©λ‹λ‹¤.

β€Ά μ‚¬μ© κ°€λ¥ν• κ³µκ°„μ λ©λ΅μ„ μ μ§€ν•λ” κ²ƒλ„ μ¤λ²„ν—¤λ“μ λ λ‹¤λ¥Έ μ›μ²μ…λ‹λ‹¤. λ©λ΅μ€ μ‚¬μ© κ°€λ¥ν• λ¨λ“  κ³µκ°„μΌλ΅ κµ¬μ„±λ λ‹¨μΌ μ…€λ΅ μ‹μ‘ν•  μ μμµλ‹λ‹¤. μ„Έκ·Έλ¨ΌνΈμ— λ€ν• μ”μ²­μ€ λ‹¨μν μ΄ λΈ”λ΅μ ν¬κΈ°λ¥Ό μ¤„μ…λ‹λ‹¤. νμλ μ…€μ€ λ©λ΅μ— μ¶”κ°€λ©λ‹λ‹¤. λ¬Έμ λ” μ¤λμ§€ μ•μ•„ λ©λ΅μ΄ λ‹¤μ–‘ν• ν¬κΈ°μ μ„Έκ·Έλ¨ΌνΈ, μ¦‰ λΈ”λ΅μ κΈ΄ λ©λ΅μ΄ λλ‹¤λ” κ²ƒμ…λ‹λ‹¤. μ”μ²­μ΄ μ¶©λ¶„ν ν° λΈ”λ΅μ— λ€ν•΄ λ©λ΅μ΄ κ²€μƒ‰λκ² ν•κΈ° λ•λ¬Έμ— μ΄κ²ƒμ€ ν• λ‹Ήμ„ λλ¦¬κ² ν•©λ‹λ‹¤. κ²°κµ­ λ©λ΅μ€ λ€λ¶€λ¶„μ μ”μ²­μ— μ¶©λ¶„ν ν¬μ§€ μ•μ€ λ§¤μ° μ‘μ€ λΈ”λ΅μ μλ¥Ό λ§μ΄ κµ¬μ„±ν•  μ μμµλ‹λ‹¤. μ΄ μ‹μ μ—μ„ μΈμ ‘ν• λΈ”λ΅μ€ λ” ν° λΈ”λ΅μΌλ΅ λ¶•κ΄΄λμ–΄μ•Ό ν•  μλ„ μμµλ‹λ‹¤. λ©λ΅μ—μ„ μ¶©λ¶„ν ν° μ²« λ²μ§Έ λΈ”λ΅μ„ μ‚¬μ©ν•λ” λ€μ•μ€ κ²€μƒ‰μ„ λ‹¨μ¶•μ‹ν‚¬ μ μμ§€λ§ λ©λ΅μ„ λΈ”λ΅ ν¬κΈ°λ³„λ΅ μμ„ν™”ν•  κ²ƒμ„ μ”κµ¬ν•©λ‹λ‹¤. λ‘ κ²½μ° λ¨λ‘ λ©λ΅μ„ μ μ§€ν•λ” κ²ƒμ€ μ¶”κ°€μ μΈ μ¤λ²„ν—¤λ“μ…λ‹λ‹¤.

μ°Έμ΅° μΉ΄μ΄ν„°λ¥Ό μ‚¬μ©ν•λ©΄ μ²μ λ‘ κ°€μ§€ λ¬Έμ λ” λ°©μ§€λμ§€λ§ κ°€μ© κ³µκ°„ λ©λ΅ μ μ§€ κ΄€λ¦¬ λ¬Έμ λ” μ—¬μ „ν λ‚¨μ•„ μμµλ‹λ‹¤. λ©”λ¨λ¦¬ κ΄€λ¦¬ λ¬Έμ μ— λ€ν• ν¬κ΄„μ μΈ μ—°κµ¬λ” Wilson(2005)μ„ μ°Έμ΅°ν•μ‹­μ‹μ¤.