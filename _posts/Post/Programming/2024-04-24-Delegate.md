---
title: "ğŸŒ’ C# Delegate (Action, Func, Event)"
date: 2024-04-24. 14:21
# last_modified_at: 2024-08-29. 20:57
last_modified_at: 2024-09-04. 10:08
categories: [â­Computer, ğŸŒ’Programming]
tags: [CSharp, Delegate, Event, Action, Func]
---

## ğŸ’« Delegate | ëŒ€ë¦¬ì

---

ë©”ì„œë“œì˜ ì°¸ì¡°.  

ë©”ì„œë“œë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ !  
Like í•¨ìˆ˜ í¬ì¸í„° in C/C++.  

ë©”ì„œë“œë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ê³ , ë‹¤ë¥¸ ë©”ì„œë“œì˜ ì¸ìë¡œ ì „ë‹¬í•˜ê±°ë‚˜ ë°˜í™˜ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

ì£¼ë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬, ë¹„ë™ê¸° ì²˜ë¦¬, ì½œë°± í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ë•Œ ì‚¬ìš©ëœë‹¤.  

### ğŸ«§ Delegate êµ¬í˜„

`delegate ë°˜í™˜íƒ€ì… MyDelegate(ë§¤ê°œë³€ìˆ˜);` í˜•ì‹ìœ¼ë¡œ ì„ ì–¸í•œë‹¤.  
ë§¤ê°œë³€ìˆ˜ëŠ” í•„ìš”í•œ ë§Œí¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. (0 ~ 16ê°œ)  

```cs
// ì„ ì–¸
delegate void MyDelegate(string msg);

// ì •ì˜
void Method1(string msg) => Console.WriteLine(msg);

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
MyDelegate myDelegate = new MyDelegate(Method1);

// í˜¸ì¶œ
myDelegate("Hello, World!");

// Output :
// Hello, World!
```

### ğŸ«§ Delegate ì²´ì¸

`+`, `-` ì—°ì‚°ìë¥¼ ì´ìš©í•´ í•œ `delegate`ì— ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.  
ê·¸ë ‡ê²Œ í• ë‹¹í•œ ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í•œë²ˆì— í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. (ë©€í‹°ìºìŠ¤íŠ¸)  

```cs
// ì„ ì–¸
delegate void MyDelegate(string msg);

// ì •ì˜
void Method1(string msg) => Console.WriteLine(msg);
void Method2(string msg) => Console.WriteLine(msg);

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
MyDelegate myDelegate = new MyDelegate();
myDelegate += Method1;
myDelegate += Method2;

// í˜¸ì¶œ
myDelegate("Hello, World!");

// Output :
// Hello, World!
// Hello, World!
```

### ğŸ«§ Delegate ë¬´ëª…í•¨ìˆ˜, ëŒë‹¤ì‹ í™œìš©

ë¬´ëª…í•¨ìˆ˜ì™€ ëŒë‹¤ì‹(ìµëª…í•¨ìˆ˜)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

```cs
// ì„ ì–¸
delegate void MyDelegate(string msg);

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (With ë¬´ëª…í•¨ìˆ˜, ëŒë‹¤ì‹)
MyDelegate myDelegate = delegate (string msg) { Console.WriteLine(msg); };
myDelegate += (string msg) => { Console.WriteLine(msg); };

// í˜¸ì¶œ
myDelegate("Hello, World!");

// Output :
// Hello, World!
// Hello, World!
```

### ğŸ«§ [Delegate ë¹„ë™ê¸° ì²˜ë¦¬ (Invoke/BeginInvoke)](https://learn.microsoft.com/ko-kr/dotnet/standard/asynchronous-programming-patterns/asynchronous-programming-using-delegates)

`Invoke`ë‚˜ `BeginInvoke`, `EndInvoke`ë¥¼ ì´ìš©í•´ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.  
ì“¸ ìˆ˜ëŠ” ìˆì§€ë§Œ ì˜¤ë˜ëœ ë°©ì‹ì´ë¯€ë¡œ, ë¹„ë™ê¸° ì²˜ë¦¬ëŠ” [`Task`](/posts/Thread-Task/)ë¥¼ ì“°ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•˜ë‹¤.  

```cs
// https://www.csharpstudy.com/Threads/async-delegate.aspx

// ì„ ì–¸ ë° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
Func<int, int, int> work = GetArea;

// ì •ì˜
int GetArea(int height, int width)
{
	int area = height * width;
	return area;
}

// ë¹„ë™ê¸° ì²˜ë¦¬
IAsyncResult asyncRes = work.BeginInvoke(10, 20, null, null);
int result = work.EndInvoke(asyncRes);
```

## ğŸ’« Delegateì˜ ì¼ë°˜í™”

---

ì¼ì¼ì´ `delegate`ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡­ë‹¤ë©´,  
`Action`, `Func`, `Predicate` ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ«§ Action

`delegate`ì˜ ì¼ë°˜í™”ë¡œ, ë°˜í™˜ ê°’ì´ **ì—†ëŠ”**(`void`) ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” `delegate`.  
ë§¤ê°œë³€ìˆ˜ëŠ” 0 ~ 16ê°œê¹Œì§€ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.  

```cs
Action<string> myAction = (msg) => Console.WriteLine(msg);
myAction("Hello, World!"); // Hello, World!

Action<int, int> myAction = (a, b) => a + b;
myAction(1, 2); // 3
```

### ğŸ«§ Func

`delegate`ì˜ ì¼ë°˜í™”ë¡œ, ë°˜í™˜ ê°’ì´ **ìˆëŠ”**(`void` ì œì™¸) ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” `delegate`.  
ë§¤ê°œë³€ìˆ˜ëŠ” 0 ~ 16ê°œê¹Œì§€ ì„ ì–¸í•  ìˆ˜ ìˆê³ , ë§ˆì§€ë§‰ ë§¤ê°œë³€ìˆ˜ê°€ ë°˜í™˜ ê°’ì´ ëœë‹¤.  

```cs
Func<int, int, int> myFunc = (a, b) => a + b;
myFunc(1, 2); // 3
```

### ğŸ«§ Predicate

`Func`ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœë¡œ, ë°˜í™˜ ê°’ì´ `bool`ì¸ `delegate`.  
í•˜ë‚˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ `bool` ê°’ì„ ë°˜í™˜í•œë‹¤.  

```cs
Predicate<int> myPredicate = (num) => num > 0;
myPredicate(1); // True
```

## ğŸ’« Event | ì´ë²¤íŠ¸

---

`ì´ë²¤íŠ¸(ì‚¬ê±´)`ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ ì œì•½ì„ ê°€ì§„ `delegate`.  

ì´ë²¤íŠ¸ëŠ” ê°ì²´ì˜ ìƒíƒœ ë³€í™”, ì‚¬ê±´ì˜ ë°œìƒì„ ë‹¤ë¥¸ ê°ì²´ë‚˜ ë©”ì„œë“œì— ì•Œë¦¬ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.  
ë‹¤ë¥¸ ê°ì²´ë‚˜ ë©”ì„œë“œì—ì„œ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ê³ , ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì•Œë¦¼ì„ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.  

### ğŸ«§ Eventê°€ Delegateì™€ ë‹¤ë¥¸ ì 

1. `delegate`ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
2. `delegate`ëŠ” `null`ì„ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” `null`ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
3. `delegate`ëŠ” `interface` ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” `interface` ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

### ğŸ«§ Event êµ¬í˜„

`delegate`ë¥¼ ì´ìš©í•˜ì—¬, `event` í‚¤ì›Œë“œë¡œ ì´ë²¤íŠ¸ë¥¼ ì„ ì–¸í•œë‹¤.  

```cs
// delegate ì„ ì–¸
delegate void MyDelegate(string msg);

// Publisher
class MyClass
{
	// ì´ë²¤íŠ¸ ì„ ì–¸
	public event MyDelegate MyEvent;

	// êµ¬ë… & êµ¬ë… í•´ì œ
	public void Subscribe(MyDelegate myDelegate) => MyEvent += myDelegate;
	public void Unsubscribe(MyDelegate myDelegate) => MyEvent -= myDelegate;

	// ì´ë²¤íŠ¸ ë°œìƒ (ì´ë²¤íŠ¸ëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥)
	public void OnEvent(string msg) => MyEvent?.Invoke(msg);
}

// Subscriber
class Program
{
	static void Main()
	{
		MyClass myClass = new MyClass();
		myClass.Subscribe(MyMethod);

		myClass.OnEvent("Hello, World!");

		// ì•„ë˜ì²˜ëŸ¼ ì´ë²¤íŠ¸ë¥¼ ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œ í•  ìˆ˜ ì—†ë‹¤.
		// myClass.MyEvent?.Invoke("Hello, World!");
	}

	static void MyMethod(string msg) => Console.WriteLine(msg);
}
```

## ğŸ’« ì°¸ê³ 

---

- `delegate`ë¥¼ ì´ìš©í•´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì¼ê¸‰ ê°ì²´ë¡œì„œì˜ í•¨ìˆ˜ ê°œë…ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
- `delegate` (`event`)ë¥¼ ì´ìš©í•´ ì´ë²¤íŠ¸, ì˜µì €ë²„ íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

- [](https://developer-talk.tistory.com/208)
