---
title: "ğŸŒ’ C# Delegate Event Action Func"
date: 2024-04-24. 14:21
# last_modified_at: 2024-04-24. 14:21
categories: [â­Computer, ğŸŒ’Programming]
tags: [CSharp, Delegate, Event, Action, Func]
---

## **ğŸ’« Delegate**

---

Like í•¨ìˆ˜ í¬ì¸í„° in C++.  
ì£¼ë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬, ë¹„ë™ê¸° ì²˜ë¦¬, ì½œë°± í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ë•Œ ì‚¬ìš©ëœë‹¤.  

```cs
delegate void MyDelegate(string msg);

class MyClass
{
	public void Method1(string msg)
	{
		Console.WriteLine(msg);
	}
}

class Program
{
	static void Main()
	{
		MyClass myClass = new MyClass();
		MyDelegate myDelegate = new MyDelegate(myClass.Method1);
		myDelegate("Hello, World!");
	}
}
```

í•¨ìˆ˜ ì²´ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.  
ë©€í‹°ìºìŠ¤íŠ¸ -> ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ë™ì‹œì— í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.  

```cs
delegate void MyDelegate(string msg);

class MyClass
{
	public void Method1(string msg)
	{
		Console.WriteLine(msg);
	}
	public void Method2(string msg)
	{
		Console.WriteLine(msg);
	}
}

class Program
{
	static void Main()
	{
		MyClass myClass = new MyClass();
		MyDelegate myDelegate = new MyDelegate(myClass.Method1);
		myDelegate += new MyDelegate(myClass.Method2);
		myDelegate("Hello, World!");
	}
}
```

ë¬´ëª…í•¨ìˆ˜ì™€ ëŒë‹¤ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

```cs
delegate void MyDelegate(string msg);

class Program
{
	static void Main()
	{
		MyDelegate myDelegate = delegate(string msg) { Console.WriteLine(msg); };
		myDelegate += (string msg) => { Console.WriteLine(msg); };
		myDelegate("Hello, World!");
	}
}
```

ë¹„ë™ê¸° ì²˜ë¦¬ í•  ìˆ˜ ìˆê¸´ í•œë°,  
`async` `await` `Task`ë¥¼ ì“°ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•˜ë‹¤.  

```cs
// https://www.csharpstudy.com/Threads/async-delegate.aspx
class Program
{
	static void Main(string[] args)
	{
		Func<int, int, int> work = GetArea;

		// ë¸ë¦¬ê²Œì´íŠ¸ê°ì²´ë¡œë¶€í„° BeginInvokeë¥¼ ì‹¤í–‰
		// BeginInvokeëŠ” ë¹„ë™ê¸°ë¡œ ì“°ë ˆë“œë¥¼ ì‹¤í–‰í•œë‹¤.
		// ì“°ë ˆë“œê°€ ì‹¤í–‰ë˜ë©´ IAsyncResultë¥¼ ë¦¬í„´í•œë‹¤.
		IAsyncResult asyncRes = work.BeginInvoke(10, 20, null, null);

		Console.WriteLine("Do something in Main thread");

		// ë¸ë¦¬ê²Œì´íŠ¸ê°ì²´ë¡œë¶€í„° EndInvoke(IAsyncResult) ì‹¤í–‰
		// EndInvokeëŠ” ì“°ë ˆë“œê°€ ì™„ë£Œë˜ê¸¸ ê¸°ë‹¤ë¦°ë‹¤.
		// ì™„ë£Œí›„ ë¦¬í„´ ê°’ì„ ëŒë ¤ë°›ëŠ”ë‹¤.            
		int result = work.EndInvoke(asyncRes);

		Console.WriteLine("Result: {0}", result);
	}

	static int GetArea(int height, int width)
	{
		int area = height * width;
		return area;
	}
}
```

<br>

## **ğŸ’« Event**

---

`delegate`ë¥¼ ì´ìš©í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.  

`event` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ì„ ì–¸í•œë‹¤.  
ì´ë²¤íŠ¸ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” íŠ¹ì •í•œ ë™ì‘ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.  

`delegate`ì™€ ë‹¤ë¥¸ ì   

1. `delegate`ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
2. `delegate`ëŠ” `null`ì„ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” `null`ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
3. `delegate`ëŠ” `interface` ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, `event`ëŠ” `interface` ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

ì•ˆì •ì„±ì„ ìœ„í•´ ëª‡ ê°€ì§€ ì œí•œì„ ê°€ì§„ `delegate`ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.  
ê°ì²´ì˜ ìƒíƒœ ë³€í™”, ì‚¬ê±´ì˜ ë°œìƒì„ ì•Œë¦¬ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.  

ì´ë¥¼ í†µí•´ `Observer` íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.  
`Observer` íŒ¨í„´ì€ ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì•Œë¦¬ëŠ” íŒ¨í„´ì´ë‹¤.  

```cs
delegate void MyDelegate(string msg);

// Publisher
class MyClass
{
	public event MyDelegate MyEvent;

	// êµ¬ë…
	public void Subscribe(MyDelegate myDelegate)
	{
		MyEvent += myDelegate;
	}

	// êµ¬ë… í•´ì§€
	public void Unsubscribe(MyDelegate myDelegate)
	{
		MyEvent -= myDelegate;
	}

	// ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë©”ì„œë“œ
	public void OnEvent(string msg)
	{
		MyEvent?.Invoke(msg);
	}
}

// Subscriber
class Program
{
	static void Main()
	{
		MyClass myClass = new MyClass();
		myClass.Subscribe(MyMethod);

		// Cannot Call Directly
		// myClass.MyEvent?.Invoke("Hello, World!");
		
		myClass.OnEvent("Hello, World!");
	}

	static void MyMethod(string msg)
	{
		Console.WriteLine(msg);
	}
}
```

<br>

## **ğŸ’« Action**

---

ì¼ì¼ì´ `delegate`ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡œìš¸ ë•Œ,  
ë°˜í™˜ ê°’ì´ ì—†ëŠ” ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” `delegate`.  

```cs
Action<string> myAction = (msg) => Console.WriteLine(msg);
myAction("Hello, World!");

Action<int, int> myAction = (a, b) => Console.WriteLine(a + b);
myAction(1, 2);
```

<br>

## **ğŸ’« Func**

---

ì¼ì¼ì´ `delegate`ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡œìš¸ ë•Œ,  
ë°˜í™˜ ê°’ì´ ìˆëŠ” ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” `delegate`.  

```cs
Func<int, int, int> myFunc = (a, b) => a + b;
Console.WriteLine(myFunc(1, 2)); // 3
```

<br>

---
